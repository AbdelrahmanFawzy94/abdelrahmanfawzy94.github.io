!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Vu9r:function(n,o,a){"use strict";a.r(o),a.d(o,"OrderModule",function(){return O});var r=a("ofXK"),c=a("FpXt"),i=a("tyNb"),b=a("0sX0"),d=a("fXoL"),l=a("Gpft"),u=a("SOeY"),s=a("y8Vt"),g=a("WW8z"),p=a("K3ix"),f=a("3Pt+");function m(e,t){if(1&e&&(d.Vb(0,"option",35),d.Ac(1),d.Ub()),2&e){var n=t.$implicit;d.lc("value",n.id),d.Db(1),d.Bc(n.type)}}function h(e,t){if(1&e&&(d.Vb(0,"option",35),d.Ac(1),d.Ub()),2&e){var n=t.$implicit;d.lc("value",n.id),d.Db(1),d.Bc(n.name)}}function y(e,t){if(1&e&&(d.Vb(0,"option",35),d.Ac(1),d.Ub()),2&e){var n=t.$implicit;d.lc("value",n.id),d.Db(1),d.Bc(n.name)}}function U(e,t){if(1&e&&(d.Vb(0,"option",35),d.Ac(1),d.Ub()),2&e){var n=t.$implicit;d.lc("value",n.id),d.Db(1),d.Bc(n.type)}}function V(e,t){if(1&e&&(d.Vb(0,"tr"),d.Vb(1,"td"),d.Ac(2),d.Ub(),d.Vb(3,"td"),d.Ac(4),d.Ub(),d.Vb(5,"td"),d.Ac(6),d.Ub(),d.Vb(7,"td"),d.Ac(8),d.Ub(),d.Ub()),2&e){var n=t.$implicit;d.Db(2),d.Bc(n.item),d.Db(2),d.Bc(n.quantity),d.Db(2),d.Bc(n.price),d.Db(2),d.Bc(n.description)}}function v(e,t){if(1&e){var n=d.Wb();d.Vb(0,"div",36),d.Vb(1,"h4",37),d.Ac(2,"Items"),d.Ub(),d.Vb(3,"button",38),d.cc("click",function(){return d.uc(n),d.gc().modalRef.hide()}),d.Vb(4,"span",39),d.Ac(5,"\xd7"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"div",40),d.Vb(7,"form",1),d.Vb(8,"div",8),d.Vb(9,"table",41),d.Vb(10,"tr"),d.Vb(11,"th"),d.Ac(12,"Item"),d.Ub(),d.Vb(13,"th"),d.Ac(14,"Quantity"),d.Ub(),d.Vb(15,"th"),d.Ac(16,"Price"),d.Ub(),d.Vb(17,"th"),d.Ac(18,"Description"),d.Ub(),d.Ub(),d.yc(19,V,9,4,"tr",42),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(20,"div",43),d.Vb(21,"button",44),d.cc("click",function(){return d.uc(n),d.gc().modalRef.hide()}),d.Ac(22,"Close"),d.Ub(),d.Ub()}if(2&e){var o=d.gc();d.Db(19),d.lc("ngForOf",o.orderData.orderItems)}}function D(e,t){1&e&&(d.Vb(0,"td"),d.Ac(1,"Current"),d.Ub())}function M(e,t){if(1&e&&(d.Vb(0,"tr"),d.Vb(1,"td"),d.Ac(2),d.Ub(),d.Vb(3,"td"),d.Ac(4),d.Ub(),d.yc(5,D,2,0,"td",45),d.Ub()),2&e){var n=t.$implicit,o=d.gc(2);d.Db(2),d.Bc(o.getStatusName(n.statusTypeId)),d.Db(2),d.Bc(n.creationDate),d.Db(1),d.lc("ngIf",n.isCurrent)}}function C(e,t){if(1&e&&(d.Vb(0,"tr"),d.Vb(1,"td"),d.Ac(2),d.Ub(),d.Vb(3,"td"),d.Ac(4),d.Ub(),d.Ub()),2&e){var n=t.$implicit,o=d.gc(2);d.Db(2),d.Bc(o.getStatusName(n.orderStatusId)),d.Db(2),d.Bc(n.creationDate)}}function A(e,t){if(1&e){var n=d.Wb();d.Vb(0,"div",36),d.Vb(1,"h4",37),d.Ac(2,"Items"),d.Ub(),d.Vb(3,"button",38),d.cc("click",function(){return d.uc(n),d.gc().modalRef.hide()}),d.Vb(4,"span",39),d.Ac(5,"\xd7"),d.Ub(),d.Ub(),d.Ub(),d.Vb(6,"div",40),d.Vb(7,"form",1),d.Vb(8,"div",8),d.Vb(9,"table",41),d.Vb(10,"tr"),d.Vb(11,"th"),d.Ac(12,"Status"),d.Ub(),d.Vb(13,"th"),d.Ac(14,"Date"),d.Ub(),d.Qb(15,"th"),d.Ub(),d.yc(16,M,6,3,"tr",42),d.yc(17,C,5,2,"tr",42),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(18,"div",43),d.Vb(19,"button",44),d.cc("click",function(){return d.uc(n),d.gc().modalRef.hide()}),d.Ac(20,"Close"),d.Ub(),d.Ub()}if(2&e){var o=d.gc();d.Db(16),d.lc("ngForOf",o.orderData.orderCurrentStatus),d.Db(1),d.lc("ngForOf",o.orderData.orderStatusHistories)}}function L(e,t){1&e&&(d.Vb(0,"div",46),d.Qb(1,"img",47),d.Ub())}function k(e,t){if(1&e&&(d.Vb(0,"div",46),d.Qb(1,"img",48),d.Ub()),2&e){var n=d.gc();d.Db(1),d.lc("src",n.baseURL+"/"+n.agentPath+"/"+n.orderData.agent.id+"/"+n.folderPersonalPhotosPath+"/"+n.orderData.agent.image,d.vc)}}var P,I,T,w=[{path:"",component:(P=function(){function n(t,o,a,r,c,i){e(this,n),this.authService=t,this.systemService=o,this.userService=a,this.orderService=r,this.route=c,this.modalService=i,this.agentPath="Agents",this.folderPersonalPhotosPath="PersonalPhotos"}var o,a,r;return o=n,(a=[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe(function(t){e.orderId=Number.parseInt(t.id)}),this.baseURL=this.authService.getBaseURL(),this.loadCountries(),this.loadProductsTypes(),this.loadPaymentTypes(),this.loadOrderData(this.orderId)}},{key:"loadOrderData",value:function(e){var t=this;this.orderService.getOrder(e).subscribe(function(e){t.orderData=e,console.log(t.orderData),t.loadCities(t.orderData.agent.countryId)})}},{key:"loadCountries",value:function(){this.countries$=this.systemService.getCountries()}},{key:"loadCities",value:function(e){this.cities$=this.systemService.getCities(e)}},{key:"birthCountryChange",value:function(e){this.loadCities(e.target.value)}},{key:"loadProductsTypes",value:function(){this.productTypes$=this.systemService.getProductTypes(),console.log(this.productTypes$)}},{key:"loadPaymentTypes",value:function(){this.paymentTypes$=this.systemService.getPaymentTypes(),console.log(this.paymentTypes$)}},{key:"saveOrderItems",value:function(){}},{key:"save",value:function(){}},{key:"getStatusName",value:function(e){return b.h[e]}},{key:"showTemplate",value:function(e){this.modalRef=this.modalService.show(e,Object.assign({},{class:"gray modal-lg"}))}}])&&t(o.prototype,a),r&&t(o,r),n}(),P.\u0275fac=function(e){return new(e||P)(d.Pb(l.a),d.Pb(u.a),d.Pb(s.a),d.Pb(g.a),d.Pb(i.a),d.Pb(p.a))},P.\u0275cmp=d.Jb({type:P,selectors:[["app-order"]],decls:97,vars:32,consts:[[1,"py-4"],[1,"row"],[1,"my-2","col-xl-8","col-md-7"],[1,"card"],[1,"card-header","card-header-shadow","gradient-info","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-1","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-xl-6","col-md-12"],[1,"text-capitalize"],["type","text","name","fullname",1,"form-control",3,"ngModel","ngModelChange"],["name","productType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","customerName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","customerPhone",1,"form-control",3,"ngModel","ngModelChange"],["name","country",1,"form-control",3,"ngModel","ngModelChange","change"],["name","city",1,"form-control",3,"ngModel","ngModelChange"],["name","paymentType",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","text-capitalize",3,"click"],["orderItems",""],["orderStatus",""],[1,"my-2","col-xl-4","col-md-5"],["class","avatar",4,"ngIf"],[1,"card-title","text-center"],[1,"data","my-3"],[1,"part","my-2"],[1,"far","fa-at"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone-alt"],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","100%","height","100%"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],[4,"ngIf"],[1,"avatar"],["src","https://ncbae.edu.pk/alhamra_new/wp-content/uploads/2016/08/person-2-200x200.jpg","alt",""],["alt","",3,"src"]],template:function(e,t){if(1&e){var n=d.Wb();d.Vb(0,"div",0),d.Vb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"div",3),d.Vb(4,"div",4),d.Vb(5,"h2",5),d.Ac(6),d.Ub(),d.Qb(7,"p",6),d.Ub(),d.Vb(8,"div",7),d.Vb(9,"form",1),d.Vb(10,"div",8),d.Vb(11,"label",9),d.Ac(12,"Agent"),d.Ub(),d.Vb(13,"input",10),d.cc("ngModelChange",function(e){return t.orderData.agent.fullname=e}),d.Ub(),d.Ub(),d.Vb(14,"div",8),d.Vb(15,"label",9),d.Ac(16,"Product Type"),d.Ub(),d.Vb(17,"select",11),d.cc("ngModelChange",function(e){return t.orderData.productTypeId=e}),d.yc(18,m,2,2,"option",12),d.hc(19,"async"),d.Ub(),d.Ub(),d.Vb(20,"div",8),d.Vb(21,"label",9),d.Ac(22,"Customer"),d.Ub(),d.Vb(23,"input",13),d.cc("ngModelChange",function(e){return t.orderData.customerName=e}),d.Ub(),d.Ub(),d.Vb(24,"div",8),d.Vb(25,"label",9),d.Ac(26,"Customer Phone"),d.Ub(),d.Vb(27,"input",14),d.cc("ngModelChange",function(e){return t.orderData.customerPhone=e}),d.Ub(),d.Ub(),d.Vb(28,"div",8),d.Vb(29,"label",9),d.Ac(30,"Country"),d.Ub(),d.Vb(31,"select",15),d.cc("ngModelChange",function(e){return t.orderData.agent.countryId=e})("change",function(e){return t.birthCountryChange(e)}),d.yc(32,h,2,2,"option",12),d.hc(33,"async"),d.Ub(),d.Ub(),d.Vb(34,"div",8),d.Vb(35,"label",9),d.Ac(36,"City"),d.Ub(),d.Vb(37,"select",16),d.cc("ngModelChange",function(e){return t.orderData.agent.cityId=e}),d.yc(38,y,2,2,"option",12),d.hc(39,"async"),d.Ub(),d.Ub(),d.Vb(40,"div",8),d.Vb(41,"label",9),d.Ac(42,"Payment Type"),d.Ub(),d.Vb(43,"select",17),d.cc("ngModelChange",function(e){return t.orderData.paymentTypeId=e}),d.yc(44,U,2,2,"option",12),d.hc(45,"async"),d.Ub(),d.Ub(),d.Vb(46,"div",8),d.Vb(47,"label",9),d.Ac(48,"Description"),d.Ub(),d.Vb(49,"input",18),d.cc("ngModelChange",function(e){return t.orderData.description=e}),d.Ub(),d.Ub(),d.Vb(50,"div",8),d.Vb(51,"label",9),d.Ac(52,"Pick up Location Latitude"),d.Ub(),d.Vb(53,"input",19),d.cc("ngModelChange",function(e){return t.orderData.pickupLocationLat=e}),d.Ub(),d.Ub(),d.Vb(54,"div",8),d.Vb(55,"label",9),d.Ac(56,"Pick up Location Longitude"),d.Ub(),d.Vb(57,"input",20),d.cc("ngModelChange",function(e){return t.orderData.pickupLocationLong=e}),d.Ub(),d.Ub(),d.Vb(58,"div",8),d.Vb(59,"label",9),d.Ac(60,"Drop Location Latitude"),d.Ub(),d.Vb(61,"input",21),d.cc("ngModelChange",function(e){return t.orderData.dropLocationLat=e}),d.Ub(),d.Ub(),d.Vb(62,"div",8),d.Vb(63,"label",9),d.Ac(64,"Drop Location Longitude"),d.Ub(),d.Vb(65,"input",22),d.cc("ngModelChange",function(e){return t.orderData.dropLocationLong=e}),d.Ub(),d.Ub(),d.Vb(66,"div",8),d.Vb(67,"label",9),d.Ac(68,"address"),d.Ub(),d.Vb(69,"input",23),d.cc("ngModelChange",function(e){return t.orderData.customerAddress=e}),d.Ub(),d.Ub(),d.Vb(70,"div",8),d.Vb(71,"button",24),d.cc("click",function(){d.uc(n);var e=d.rc(77);return t.showTemplate(e)}),d.Ac(72," Order Items "),d.Ub(),d.Ub(),d.Vb(73,"div",8),d.Vb(74,"button",24),d.cc("click",function(){d.uc(n);var e=d.rc(79);return t.showTemplate(e)}),d.Ac(75," Order Status "),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.yc(76,v,23,1,"ng-template",null,25,d.zc),d.yc(78,A,21,2,"ng-template",null,26,d.zc),d.Vb(80,"div",27),d.Vb(81,"div",3),d.yc(82,L,2,0,"div",28),d.yc(83,k,2,1,"div",28),d.Vb(84,"div",7),d.Vb(85,"h2",29),d.Ac(86),d.Ub(),d.Vb(87,"div",30),d.Vb(88,"div",31),d.Qb(89,"i",32),d.Ac(90),d.Ub(),d.Vb(91,"div",31),d.Qb(92,"i",33),d.Ac(93),d.Ub(),d.Vb(94,"div",31),d.Qb(95,"i",34),d.Ac(96),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()}2&e&&(d.Db(6),d.Cc("Order number [ ",t.orderData.id," ]"),d.Db(7),d.lc("ngModel",t.orderData.agent.fullname),d.Db(4),d.lc("ngModel",t.orderData.productTypeId),d.Db(1),d.lc("ngForOf",d.ic(19,24,t.productTypes$)),d.Db(5),d.lc("ngModel",t.orderData.customerName),d.Db(4),d.lc("ngModel",t.orderData.customerPhone),d.Db(4),d.lc("ngModel",t.orderData.agent.countryId),d.Db(1),d.lc("ngForOf",d.ic(33,26,t.countries$)),d.Db(5),d.lc("ngModel",t.orderData.agent.cityId),d.Db(1),d.lc("ngForOf",d.ic(39,28,t.cities$)),d.Db(5),d.lc("ngModel",t.orderData.paymentTypeId),d.Db(1),d.lc("ngForOf",d.ic(45,30,t.paymentTypes$)),d.Db(5),d.lc("ngModel",t.orderData.description),d.Db(4),d.lc("ngModel",t.orderData.pickupLocationLat),d.Db(4),d.lc("ngModel",t.orderData.pickupLocationLong),d.Db(4),d.lc("ngModel",t.orderData.dropLocationLat),d.Db(4),d.lc("ngModel",t.orderData.dropLocationLong),d.Db(4),d.lc("ngModel",t.orderData.customerAddress),d.Db(13),d.lc("ngIf",null==t.orderData.agent.image||""===t.orderData.agent.image),d.Db(1),d.lc("ngIf",null!=t.orderData.agent.image&&""!==t.orderData.agent.image),d.Db(3),d.Bc(t.orderData.agent.fullname),d.Db(4),d.Cc(" ",t.orderData.agent.email," "),d.Db(3),d.Cc(" ",t.orderData.agent.address?t.orderData.agent.address:"none"," "),d.Db(3),d.Cc(" ",t.orderData.agent.mobile?t.orderData.agent.mobile:"none"," "))},directives:[f.n,f.f,f.g,f.a,f.e,f.h,f.l,r.j,r.k,f.i,f.m],pipes:[r.b],styles:[""]}),P)}],S=((T=function t(){e(this,t)}).\u0275mod=d.Nb({type:T}),T.\u0275inj=d.Mb({factory:function(e){return new(e||T)},imports:[[i.d.forChild(w)],i.d]}),T),O=((I=function t(){e(this,t)}).\u0275mod=d.Nb({type:I}),I.\u0275inj=d.Mb({factory:function(e){return new(e||I)},providers:[],imports:[[r.c,S,c.a]]}),I)}}])}();