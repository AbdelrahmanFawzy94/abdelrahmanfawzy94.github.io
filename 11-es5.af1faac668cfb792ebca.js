!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+hkp":function(a,r,i){"use strict";i.r(r),i.d(r,"OrdersModule",function(){return A});var n=i("ofXK"),o=i("FpXt"),c=i("tyNb"),s=i("+0xr"),l=i("fXoL"),b=i("WW8z"),d=i("Gpft"),u=i("M9IT"),f=i("xJkR"),m=function(){return{height:"35px",backgroundColor:"#ddd"}};function g(e,t){if(1&e&&(l.Vb(0,"div",10),l.Qb(1,"ngx-skeleton-loader",11),l.Ub()),2&e){var a=l.gc();l.Db(1),l.lc("count",a.perPage)("theme",l.nc(2,m))}}function h(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Ac(1," Order number "),l.Ub())}function p(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Ac(1),l.Ub()),2&e){var a=t.$implicit;l.Db(1),l.Cc(" ",a.id," ")}}function v(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Ac(1," From agent "),l.Ub())}function y(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Ac(1),l.Ub()),2&e){var a=t.$implicit;l.Db(1),l.Cc(" ",a.agent.fullname," ")}}function U(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Ac(1," To customer "),l.Ub())}function w(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Ac(1),l.Ub()),2&e){var a=t.$implicit;l.Db(1),l.Cc(" ",a.customerName," ")}}function D(e,t){1&e&&l.Qb(0,"mat-header-row")}function C(e,t){if(1&e){var a=l.Wb();l.Vb(0,"mat-row",21),l.cc("click",function(){l.uc(a);var e=t.$implicit;return l.gc(2).routeUser(e.id)}),l.Ub()}}function k(e,t){if(1&e&&(l.Vb(0,"div",12),l.Vb(1,"mat-table",13),l.Tb(2,14),l.yc(3,h,2,0,"mat-header-cell",15),l.yc(4,p,2,1,"mat-cell",16),l.Sb(),l.Tb(5,17),l.yc(6,v,2,0,"mat-header-cell",15),l.yc(7,y,2,1,"mat-cell",16),l.Sb(),l.Tb(8,18),l.yc(9,U,2,0,"mat-header-cell",15),l.yc(10,w,2,1,"mat-cell",16),l.Sb(),l.yc(11,D,1,0,"mat-header-row",19),l.yc(12,C,1,0,"mat-row",20),l.Ub(),l.Ub()),2&e){var a=l.gc();l.Db(1),l.lc("dataSource",a.dataSource),l.Db(10),l.lc("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),l.Db(1),l.lc("matRowDefColumns",a.displayedColumns)}}var P,S,V,O=function(){return[5,10]},L=[{path:"",component:(P=function(){function a(t,r,i){e(this,a),this.orderService=t,this.authService=r,this.router=i,this.isLoading=!1,this.displayedColumns=["orderNumber","fromAgent","toCustomer"],this.total=0,this.page=1,this.perPage=10,this.baseURL="",this.assetsPath="/Assets/Images/Drivers/",this.personalPhotosPath="PersonalPhotos"}var r,i,n;return r=a,(i=[{key:"ngOnInit",value:function(){this.loggedUser=this.authService.getLoggedUser(),this.isLoading=!0,this.baseURL=this.authService.getBaseURL(),this.getOrders(this.page,this.perPage)}},{key:"getOrders",value:function(e,t){var a=this;this.orderService.getUserOrders({userId:this.loggedUser.id,page:e,numberOfObjectsPerPage:t}).subscribe(function(e){a.dataSource=new s.k(e.orders),a.total=e.total,a.isLoading=!1})}},{key:"onPageChanges",value:function(e){this.isLoading=!0,this.page=e.pageIndex+1,this.perPage=e.pageSize,this.getOrders(this.page,this.perPage)}},{key:"routeUser",value:function(e){console.log(e),this.router.navigate(["dashboard/order/",e])}}])&&t(r.prototype,i),n&&t(r,n),a}(),P.\u0275fac=function(e){return new(e||P)(l.Pb(b.a),l.Pb(d.a),l.Pb(c.b))},P.\u0275cmp=l.Jb({type:P,selectors:[["app-orders"]],decls:11,vars:6,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-box-check","bg-danger"],[1,"text-capitalize","mx-3"],[1,"card-body","mat-card-body"],[1,"table-responsive"],["class","test",4,"ngIf"],["class","table-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"test"],["animation","progress",3,"count","theme"],[1,"table-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","orderNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","fromAgent"],["matColumnDef","toCustomer"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"click"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Qb(3,"i",3),l.Vb(4,"span",4),l.Ac(5,"orders"),l.Ub(),l.Ub(),l.Ub(),l.Vb(6,"div",5),l.Vb(7,"div",6),l.yc(8,g,2,3,"div",7),l.yc(9,k,13,4,"div",8),l.Ub(),l.Vb(10,"mat-paginator",9),l.cc("page",function(e){return t.onPageChanges(e)}),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Db(8),l.lc("ngIf",t.isLoading),l.Db(1),l.lc("ngIf",!t.isLoading),l.Db(1),l.lc("length",t.total)("pageSize",t.perPage)("pageSizeOptions",l.nc(5,O)))},directives:[n.k,u.a,f.a,s.j,s.c,s.e,s.b,s.g,s.i,s.d,s.a,s.f,s.h],styles:[""]}),P)}],R=((V=function t(){e(this,t)}).\u0275mod=l.Nb({type:V}),V.\u0275inj=l.Mb({factory:function(e){return new(e||V)},imports:[[c.d.forChild(L)],c.d]}),V),A=((S=function t(){e(this,t)}).\u0275mod=l.Nb({type:S}),S.\u0275inj=l.Mb({factory:function(e){return new(e||S)},providers:[],imports:[[n.c,R,o.a]]}),S)}}])}();