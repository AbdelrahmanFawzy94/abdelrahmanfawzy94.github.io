(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Vz0b:function(e,t,a){"use strict";a.r(t),a.d(t,"OrdersListModule",function(){return k});var r=a("ofXK"),i=a("FpXt"),o=a("tyNb"),n=a("+0xr"),s=a("fXoL"),c=a("2Bhs"),l=a("Gpft"),b=a("kmnG"),d=a("e6WT"),m=a("M9IT"),u=a("xJkR");const g=function(){return{height:"35px",backgroundColor:"#ddd"}};function h(e,t){if(1&e&&(s.Vb(0,"div",11),s.Qb(1,"ngx-skeleton-loader",12),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("count",e.perPage)("theme",s.oc(2,g))}}function f(e,t){1&e&&(s.Vb(0,"mat-header-cell"),s.Bc(1," Order number "),s.Ub())}function p(e,t){if(1&e&&(s.Vb(0,"mat-cell"),s.Bc(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Dc(" ",e.id," ")}}function U(e,t){1&e&&(s.Vb(0,"mat-header-cell"),s.Bc(1," From agent "),s.Ub())}function v(e,t){if(1&e&&(s.Vb(0,"mat-cell"),s.Bc(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Dc(" ",e.agent.fullname," ")}}function D(e,t){1&e&&(s.Vb(0,"mat-header-cell"),s.Bc(1," To customer "),s.Ub())}function w(e,t){if(1&e&&(s.Vb(0,"mat-cell"),s.Bc(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Dc(" ",e.customerName," ")}}function V(e,t){1&e&&s.Qb(0,"mat-header-row")}function S(e,t){if(1&e){const e=s.Wb();s.Vb(0,"mat-row",22),s.cc("click",function(){s.vc(e);const a=t.$implicit;return s.gc(2).routeUser(a.id)}),s.Ub()}}function y(e,t){if(1&e&&(s.Vb(0,"div",13),s.Vb(1,"mat-table",14),s.Tb(2,15),s.zc(3,f,2,0,"mat-header-cell",16),s.zc(4,p,2,1,"mat-cell",17),s.Sb(),s.Tb(5,18),s.zc(6,U,2,0,"mat-header-cell",16),s.zc(7,v,2,1,"mat-cell",17),s.Sb(),s.Tb(8,19),s.zc(9,D,2,0,"mat-header-cell",16),s.zc(10,w,2,1,"mat-cell",17),s.Sb(),s.zc(11,V,1,0,"mat-header-row",20),s.zc(12,S,1,0,"mat-row",21),s.Ub(),s.Ub()),2&e){const e=s.gc();s.Db(1),s.mc("dataSource",e.dataSource),s.Db(10),s.mc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),s.Db(1),s.mc("matRowDefColumns",e.displayedColumns)}}const z=function(){return[5,10]},P=[{path:"",component:(()=>{class e{constructor(e,t,a){this.orderService=e,this.authService=t,this.router=a,this.isLoading=!1,this.displayedColumns=["orderNumber","fromAgent","toCustomer"],this.total=0,this.page=1,this.perPage=5,this.searchInput=null,this.baseURL="",this.assetsPath="/Assets/Images/Drivers/",this.personalPhotosPath="PersonalPhotos"}ngOnInit(){this.loggedUser=this.authService.getLoggedUser(),this.isLoading=!0,this.baseURL=this.authService.getBaseURL(),this.getOrders(this.page,this.perPage)}getOrders(e,t){this.orderService.getUserOrders({userId:this.loggedUser.id,page:e,numberOfObjectsPerPage:t}).subscribe(e=>{this.dataSource=new n.k(e.orders),this.total=e.total,this.isLoading=!1})}onPageChanges(e){this.isLoading=!0,this.page=e.pageIndex+1,this.perPage=e.pageSize,this.getOrders(this.page,this.perPage)}filter(e){console.log(e.target.value),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3),e.target.value=null}routeUser(e){console.log(e),this.router.navigate(["dashboard/order/",e])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(c.a),s.Pb(l.a),s.Pb(o.b))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-orders"]],decls:15,vars:6,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-box-check","bg-danger"],[1,"text-capitalize","mx-3"],[1,"card-body","mat-card-body"],["matInput","",3,"keyup.enter"],[1,"table-responsive"],["class","test",4,"ngIf"],["class","table-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"test"],["animation","progress",3,"count","theme"],[1,"table-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","orderNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","fromAgent"],["matColumnDef","toCustomer"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Qb(3,"i",3),s.Vb(4,"span",4),s.Bc(5,"orders"),s.Ub(),s.Ub(),s.Ub(),s.Vb(6,"div",5),s.Vb(7,"mat-form-field"),s.Vb(8,"mat-label"),s.Bc(9,"Filter"),s.Ub(),s.Vb(10,"input",6),s.cc("keyup.enter",function(e){return t.filter(e)}),s.Ub(),s.Ub(),s.Vb(11,"div",7),s.zc(12,h,2,3,"div",8),s.zc(13,y,13,4,"div",9),s.Ub(),s.Vb(14,"mat-paginator",10),s.cc("page",function(e){return t.onPageChanges(e)}),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(12),s.mc("ngIf",t.isLoading),s.Db(1),s.mc("ngIf",!t.isLoading),s.Db(1),s.mc("length",t.total)("pageSize",t.perPage)("pageSizeOptions",s.oc(5,z)))},directives:[b.c,b.f,d.a,r.l,m.a,u.a,n.j,n.c,n.e,n.b,n.g,n.i,n.d,n.a,n.f,n.h],styles:["body.rtl .loader.progress:before{animation-direction:reverse}"],encapsulation:2}),e})()}];let C=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[o.d.forChild(P)],o.d]}),e})(),k=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,C,i.a]]}),e})()}}]);