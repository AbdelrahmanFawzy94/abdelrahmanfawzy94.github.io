!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Vz0b:function(a,r,i){"use strict";i.r(r),i.d(r,"OrdersListModule",function(){return B});var n=i("ofXK"),o=i("FpXt"),c=i("tyNb"),s=i("+0xr"),l=i("fXoL"),b=i("2Bhs"),u=i("Gpft"),d=i("kmnG"),m=i("e6WT"),f=i("M9IT"),g=i("xJkR"),h=function(){return{height:"35px",backgroundColor:"#ddd"}};function p(e,t){if(1&e&&(l.Vb(0,"div",11),l.Qb(1,"ngx-skeleton-loader",12),l.Ub()),2&e){var a=l.gc();l.Db(1),l.mc("count",a.perPage)("theme",l.oc(2,h))}}function v(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Bc(1," Order number "),l.Ub())}function U(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Bc(1),l.Ub()),2&e){var a=t.$implicit;l.Db(1),l.Dc(" ",a.id," ")}}function y(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Bc(1," From agent "),l.Ub())}function D(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Bc(1),l.Ub()),2&e){var a=t.$implicit;l.Db(1),l.Dc(" ",a.agent.fullname," ")}}function w(e,t){1&e&&(l.Vb(0,"mat-header-cell"),l.Bc(1," To customer "),l.Ub())}function k(e,t){if(1&e&&(l.Vb(0,"mat-cell"),l.Bc(1),l.Ub()),2&e){var a=t.$implicit;l.Db(1),l.Dc(" ",a.customerName," ")}}function V(e,t){1&e&&l.Qb(0,"mat-header-row")}function P(e,t){if(1&e){var a=l.Wb();l.Vb(0,"mat-row",22),l.cc("click",function(){l.vc(a);var e=t.$implicit;return l.gc(2).routeUser(e.id)}),l.Ub()}}function S(e,t){if(1&e&&(l.Vb(0,"div",13),l.Vb(1,"mat-table",14),l.Tb(2,15),l.zc(3,v,2,0,"mat-header-cell",16),l.zc(4,U,2,1,"mat-cell",17),l.Sb(),l.Tb(5,18),l.zc(6,y,2,0,"mat-header-cell",16),l.zc(7,D,2,1,"mat-cell",17),l.Sb(),l.Tb(8,19),l.zc(9,w,2,0,"mat-header-cell",16),l.zc(10,k,2,1,"mat-cell",17),l.Sb(),l.zc(11,V,1,0,"mat-header-row",20),l.zc(12,P,1,0,"mat-row",21),l.Ub(),l.Ub()),2&e){var a=l.gc();l.Db(1),l.mc("dataSource",a.dataSource),l.Db(10),l.mc("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),l.Db(1),l.mc("matRowDefColumns",a.displayedColumns)}}var z,C,L,O=function(){return[5,10]},I=[{path:"",component:(z=function(){function a(t,r,i){e(this,a),this.orderService=t,this.authService=r,this.router=i,this.isLoading=!1,this.displayedColumns=["orderNumber","fromAgent","toCustomer"],this.total=0,this.page=1,this.perPage=5,this.searchInput=null,this.baseURL="",this.assetsPath="/Assets/Images/Drivers/",this.personalPhotosPath="PersonalPhotos"}var r,i,n;return r=a,(i=[{key:"ngOnInit",value:function(){this.loggedUser=this.authService.getLoggedUser(),this.isLoading=!0,this.baseURL=this.authService.getBaseURL(),this.getOrders(this.page,this.perPage)}},{key:"getOrders",value:function(e,t){var a=this;this.orderService.getUserOrders({userId:this.loggedUser.id,page:e,numberOfObjectsPerPage:t}).subscribe(function(e){a.dataSource=new s.k(e.orders),a.total=e.total,a.isLoading=!1})}},{key:"onPageChanges",value:function(e){this.isLoading=!0,this.page=e.pageIndex+1,this.perPage=e.pageSize,this.getOrders(this.page,this.perPage)}},{key:"filter",value:function(e){var t=this;console.log(e.target.value),this.isLoading=!0,setTimeout(function(){t.isLoading=!1},1e3),e.target.value=null}},{key:"routeUser",value:function(e){console.log(e),this.router.navigate(["dashboard/order/",e])}}])&&t(r.prototype,i),n&&t(r,n),a}(),z.\u0275fac=function(e){return new(e||z)(l.Pb(b.a),l.Pb(u.a),l.Pb(c.b))},z.\u0275cmp=l.Jb({type:z,selectors:[["app-orders"]],decls:15,vars:6,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-box-check","bg-danger"],[1,"text-capitalize","mx-3"],[1,"card-body","mat-card-body"],["matInput","",3,"keyup.enter"],[1,"table-responsive"],["class","test",4,"ngIf"],["class","table-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"test"],["animation","progress",3,"count","theme"],[1,"table-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","orderNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","fromAgent"],["matColumnDef","toCustomer"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"click"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Qb(3,"i",3),l.Vb(4,"span",4),l.Bc(5,"orders"),l.Ub(),l.Ub(),l.Ub(),l.Vb(6,"div",5),l.Vb(7,"mat-form-field"),l.Vb(8,"mat-label"),l.Bc(9,"Filter"),l.Ub(),l.Vb(10,"input",6),l.cc("keyup.enter",function(e){return t.filter(e)}),l.Ub(),l.Ub(),l.Vb(11,"div",7),l.zc(12,p,2,3,"div",8),l.zc(13,S,13,4,"div",9),l.Ub(),l.Vb(14,"mat-paginator",10),l.cc("page",function(e){return t.onPageChanges(e)}),l.Ub(),l.Ub(),l.Ub()),2&e&&(l.Db(12),l.mc("ngIf",t.isLoading),l.Db(1),l.mc("ngIf",!t.isLoading),l.Db(1),l.mc("length",t.total)("pageSize",t.perPage)("pageSizeOptions",l.oc(5,O)))},directives:[d.c,d.f,m.a,n.l,f.a,g.a,s.j,s.c,s.e,s.b,s.g,s.i,s.d,s.a,s.f,s.h],styles:["body.rtl .loader.progress:before{animation-direction:reverse}"],encapsulation:2}),z)}],R=((L=function t(){e(this,t)}).\u0275mod=l.Nb({type:L}),L.\u0275inj=l.Mb({factory:function(e){return new(e||L)},imports:[[c.d.forChild(I)],c.d]}),L),B=((C=function t(){e(this,t)}).\u0275mod=l.Nb({type:C}),C.\u0275inj=l.Mb({factory:function(e){return new(e||C)},providers:[],imports:[[n.c,R,o.a]]}),C)}}])}();