(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Vu9r:function(t,e,o){"use strict";o.r(e),o.d(e,"OrderModule",function(){return I});var n=o("ofXK"),c=o("FpXt"),a=o("tyNb"),r=o("0sX0"),i=o("fXoL"),b=o("Gpft"),d=o("SOeY"),l=o("y8Vt"),s=o("WW8z"),u=o("K3ix"),g=o("3Pt+");function p(t,e){if(1&t&&(i.Vb(0,"option",35),i.Ac(1),i.Ub()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Db(1),i.Bc(t.type)}}function m(t,e){if(1&t&&(i.Vb(0,"option",35),i.Ac(1),i.Ub()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Db(1),i.Bc(t.name)}}function h(t,e){if(1&t&&(i.Vb(0,"option",35),i.Ac(1),i.Ub()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Db(1),i.Bc(t.name)}}function f(t,e){if(1&t&&(i.Vb(0,"option",35),i.Ac(1),i.Ub()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Db(1),i.Bc(t.type)}}function U(t,e){if(1&t&&(i.Vb(0,"tr"),i.Vb(1,"td"),i.Ac(2),i.Ub(),i.Vb(3,"td"),i.Ac(4),i.Ub(),i.Vb(5,"td"),i.Ac(6),i.Ub(),i.Vb(7,"td"),i.Ac(8),i.Ub(),i.Ub()),2&t){const t=e.$implicit;i.Db(2),i.Bc(t.item),i.Db(2),i.Bc(t.quantity),i.Db(2),i.Bc(t.price),i.Db(2),i.Bc(t.description)}}function V(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",36),i.Vb(1,"h4",37),i.Ac(2,"Items"),i.Ub(),i.Vb(3,"button",38),i.cc("click",function(){return i.uc(t),i.gc().modalRef.hide()}),i.Vb(4,"span",39),i.Ac(5,"\xd7"),i.Ub(),i.Ub(),i.Ub(),i.Vb(6,"div",40),i.Vb(7,"form",1),i.Vb(8,"div",8),i.Vb(9,"table",41),i.Vb(10,"tr"),i.Vb(11,"th"),i.Ac(12,"Item"),i.Ub(),i.Vb(13,"th"),i.Ac(14,"Quantity"),i.Ub(),i.Vb(15,"th"),i.Ac(16,"Price"),i.Ub(),i.Vb(17,"th"),i.Ac(18,"Description"),i.Ub(),i.Ub(),i.yc(19,U,9,4,"tr",42),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(20,"div",43),i.Vb(21,"button",44),i.cc("click",function(){return i.uc(t),i.gc().modalRef.hide()}),i.Ac(22,"Close"),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Db(19),i.lc("ngForOf",t.orderData.orderItems)}}function D(t,e){1&t&&(i.Vb(0,"td"),i.Ac(1,"Current"),i.Ub())}function y(t,e){if(1&t&&(i.Vb(0,"tr"),i.Vb(1,"td"),i.Ac(2),i.Ub(),i.Vb(3,"td"),i.Ac(4),i.Ub(),i.yc(5,D,2,0,"td",45),i.Ub()),2&t){const t=e.$implicit,o=i.gc(2);i.Db(2),i.Bc(o.getStatusName(t.statusTypeId)),i.Db(2),i.Bc(t.creationDate),i.Db(1),i.lc("ngIf",t.isCurrent)}}function v(t,e){if(1&t&&(i.Vb(0,"tr"),i.Vb(1,"td"),i.Ac(2),i.Ub(),i.Vb(3,"td"),i.Ac(4),i.Ub(),i.Ub()),2&t){const t=e.$implicit,o=i.gc(2);i.Db(2),i.Bc(o.getStatusName(t.orderStatusId)),i.Db(2),i.Bc(t.creationDate)}}function M(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",36),i.Vb(1,"h4",37),i.Ac(2,"Items"),i.Ub(),i.Vb(3,"button",38),i.cc("click",function(){return i.uc(t),i.gc().modalRef.hide()}),i.Vb(4,"span",39),i.Ac(5,"\xd7"),i.Ub(),i.Ub(),i.Ub(),i.Vb(6,"div",40),i.Vb(7,"form",1),i.Vb(8,"div",8),i.Vb(9,"table",41),i.Vb(10,"tr"),i.Vb(11,"th"),i.Ac(12,"Status"),i.Ub(),i.Vb(13,"th"),i.Ac(14,"Date"),i.Ub(),i.Qb(15,"th"),i.Ub(),i.yc(16,y,6,3,"tr",42),i.yc(17,v,5,2,"tr",42),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(18,"div",43),i.Vb(19,"button",44),i.cc("click",function(){return i.uc(t),i.gc().modalRef.hide()}),i.Ac(20,"Close"),i.Ub(),i.Ub()}if(2&t){const t=i.gc();i.Db(16),i.lc("ngForOf",t.orderData.orderCurrentStatus),i.Db(1),i.lc("ngForOf",t.orderData.orderStatusHistories)}}function C(t,e){1&t&&(i.Vb(0,"div",46),i.Qb(1,"img",47),i.Ub())}function A(t,e){if(1&t&&(i.Vb(0,"div",46),i.Qb(1,"img",48),i.Ub()),2&t){const t=i.gc();i.Db(1),i.lc("src",t.baseURL+"/"+t.agentPath+"/"+t.orderData.agent.id+"/"+t.folderPersonalPhotosPath+"/"+t.orderData.agent.image,i.vc)}}const L=[{path:"",component:(()=>{class t{constructor(t,e,o,n,c,a){this.authService=t,this.systemService=e,this.userService=o,this.orderService=n,this.route=c,this.modalService=a,this.agentPath="Agents",this.folderPersonalPhotosPath="PersonalPhotos"}ngOnInit(){this.route.params.subscribe(t=>{this.orderId=Number.parseInt(t.id)}),this.baseURL=this.authService.getBaseURL(),this.loadCountries(),this.loadProductsTypes(),this.loadPaymentTypes(),this.loadOrderData(this.orderId)}loadOrderData(t){this.orderService.getOrder(t).subscribe(t=>{this.orderData=t,console.log(this.orderData),this.loadCities(this.orderData.agent.countryId)})}loadCountries(){this.countries$=this.systemService.getCountries()}loadCities(t){this.cities$=this.systemService.getCities(t)}birthCountryChange(t){this.loadCities(t.target.value)}loadProductsTypes(){this.productTypes$=this.systemService.getProductTypes(),console.log(this.productTypes$)}loadPaymentTypes(){this.paymentTypes$=this.systemService.getPaymentTypes(),console.log(this.paymentTypes$)}saveOrderItems(){}save(){}getStatusName(t){return r.h[t]}showTemplate(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-lg"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Pb(b.a),i.Pb(d.a),i.Pb(l.a),i.Pb(s.a),i.Pb(a.a),i.Pb(u.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-order"]],decls:97,vars:32,consts:[[1,"py-4"],[1,"row"],[1,"my-2","col-xl-8","col-md-7"],[1,"card"],[1,"card-header","card-header-shadow","gradient-info","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-1","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-xl-6","col-md-12"],[1,"text-capitalize"],["type","text","name","fullname",1,"form-control",3,"ngModel","ngModelChange"],["name","productType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","customerName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","customerPhone",1,"form-control",3,"ngModel","ngModelChange"],["name","country",1,"form-control",3,"ngModel","ngModelChange","change"],["name","city",1,"form-control",3,"ngModel","ngModelChange"],["name","paymentType",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","text-capitalize",3,"click"],["orderItems",""],["orderStatus",""],[1,"my-2","col-xl-4","col-md-5"],["class","avatar",4,"ngIf"],[1,"card-title","text-center"],[1,"data","my-3"],[1,"part","my-2"],[1,"far","fa-at"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone-alt"],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","100%","height","100%"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],[4,"ngIf"],[1,"avatar"],["src","https://ncbae.edu.pk/alhamra_new/wp-content/uploads/2016/08/person-2-200x200.jpg","alt",""],["alt","",3,"src"]],template:function(t,e){if(1&t){const t=i.Wb();i.Vb(0,"div",0),i.Vb(1,"div",1),i.Vb(2,"div",2),i.Vb(3,"div",3),i.Vb(4,"div",4),i.Vb(5,"h2",5),i.Ac(6),i.Ub(),i.Qb(7,"p",6),i.Ub(),i.Vb(8,"div",7),i.Vb(9,"form",1),i.Vb(10,"div",8),i.Vb(11,"label",9),i.Ac(12,"Agent"),i.Ub(),i.Vb(13,"input",10),i.cc("ngModelChange",function(t){return e.orderData.agent.fullname=t}),i.Ub(),i.Ub(),i.Vb(14,"div",8),i.Vb(15,"label",9),i.Ac(16,"Product Type"),i.Ub(),i.Vb(17,"select",11),i.cc("ngModelChange",function(t){return e.orderData.productTypeId=t}),i.yc(18,p,2,2,"option",12),i.hc(19,"async"),i.Ub(),i.Ub(),i.Vb(20,"div",8),i.Vb(21,"label",9),i.Ac(22,"Customer"),i.Ub(),i.Vb(23,"input",13),i.cc("ngModelChange",function(t){return e.orderData.customerName=t}),i.Ub(),i.Ub(),i.Vb(24,"div",8),i.Vb(25,"label",9),i.Ac(26,"Customer Phone"),i.Ub(),i.Vb(27,"input",14),i.cc("ngModelChange",function(t){return e.orderData.customerPhone=t}),i.Ub(),i.Ub(),i.Vb(28,"div",8),i.Vb(29,"label",9),i.Ac(30,"Country"),i.Ub(),i.Vb(31,"select",15),i.cc("ngModelChange",function(t){return e.orderData.agent.countryId=t})("change",function(t){return e.birthCountryChange(t)}),i.yc(32,m,2,2,"option",12),i.hc(33,"async"),i.Ub(),i.Ub(),i.Vb(34,"div",8),i.Vb(35,"label",9),i.Ac(36,"City"),i.Ub(),i.Vb(37,"select",16),i.cc("ngModelChange",function(t){return e.orderData.agent.cityId=t}),i.yc(38,h,2,2,"option",12),i.hc(39,"async"),i.Ub(),i.Ub(),i.Vb(40,"div",8),i.Vb(41,"label",9),i.Ac(42,"Payment Type"),i.Ub(),i.Vb(43,"select",17),i.cc("ngModelChange",function(t){return e.orderData.paymentTypeId=t}),i.yc(44,f,2,2,"option",12),i.hc(45,"async"),i.Ub(),i.Ub(),i.Vb(46,"div",8),i.Vb(47,"label",9),i.Ac(48,"Description"),i.Ub(),i.Vb(49,"input",18),i.cc("ngModelChange",function(t){return e.orderData.description=t}),i.Ub(),i.Ub(),i.Vb(50,"div",8),i.Vb(51,"label",9),i.Ac(52,"Pick up Location Latitude"),i.Ub(),i.Vb(53,"input",19),i.cc("ngModelChange",function(t){return e.orderData.pickupLocationLat=t}),i.Ub(),i.Ub(),i.Vb(54,"div",8),i.Vb(55,"label",9),i.Ac(56,"Pick up Location Longitude"),i.Ub(),i.Vb(57,"input",20),i.cc("ngModelChange",function(t){return e.orderData.pickupLocationLong=t}),i.Ub(),i.Ub(),i.Vb(58,"div",8),i.Vb(59,"label",9),i.Ac(60,"Drop Location Latitude"),i.Ub(),i.Vb(61,"input",21),i.cc("ngModelChange",function(t){return e.orderData.dropLocationLat=t}),i.Ub(),i.Ub(),i.Vb(62,"div",8),i.Vb(63,"label",9),i.Ac(64,"Drop Location Longitude"),i.Ub(),i.Vb(65,"input",22),i.cc("ngModelChange",function(t){return e.orderData.dropLocationLong=t}),i.Ub(),i.Ub(),i.Vb(66,"div",8),i.Vb(67,"label",9),i.Ac(68,"address"),i.Ub(),i.Vb(69,"input",23),i.cc("ngModelChange",function(t){return e.orderData.customerAddress=t}),i.Ub(),i.Ub(),i.Vb(70,"div",8),i.Vb(71,"button",24),i.cc("click",function(){i.uc(t);const o=i.rc(77);return e.showTemplate(o)}),i.Ac(72," Order Items "),i.Ub(),i.Ub(),i.Vb(73,"div",8),i.Vb(74,"button",24),i.cc("click",function(){i.uc(t);const o=i.rc(79);return e.showTemplate(o)}),i.Ac(75," Order Status "),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.yc(76,V,23,1,"ng-template",null,25,i.zc),i.yc(78,M,21,2,"ng-template",null,26,i.zc),i.Vb(80,"div",27),i.Vb(81,"div",3),i.yc(82,C,2,0,"div",28),i.yc(83,A,2,1,"div",28),i.Vb(84,"div",7),i.Vb(85,"h2",29),i.Ac(86),i.Ub(),i.Vb(87,"div",30),i.Vb(88,"div",31),i.Qb(89,"i",32),i.Ac(90),i.Ub(),i.Vb(91,"div",31),i.Qb(92,"i",33),i.Ac(93),i.Ub(),i.Vb(94,"div",31),i.Qb(95,"i",34),i.Ac(96),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()}2&t&&(i.Db(6),i.Cc("Order number [ ",e.orderData.id," ]"),i.Db(7),i.lc("ngModel",e.orderData.agent.fullname),i.Db(4),i.lc("ngModel",e.orderData.productTypeId),i.Db(1),i.lc("ngForOf",i.ic(19,24,e.productTypes$)),i.Db(5),i.lc("ngModel",e.orderData.customerName),i.Db(4),i.lc("ngModel",e.orderData.customerPhone),i.Db(4),i.lc("ngModel",e.orderData.agent.countryId),i.Db(1),i.lc("ngForOf",i.ic(33,26,e.countries$)),i.Db(5),i.lc("ngModel",e.orderData.agent.cityId),i.Db(1),i.lc("ngForOf",i.ic(39,28,e.cities$)),i.Db(5),i.lc("ngModel",e.orderData.paymentTypeId),i.Db(1),i.lc("ngForOf",i.ic(45,30,e.paymentTypes$)),i.Db(5),i.lc("ngModel",e.orderData.description),i.Db(4),i.lc("ngModel",e.orderData.pickupLocationLat),i.Db(4),i.lc("ngModel",e.orderData.pickupLocationLong),i.Db(4),i.lc("ngModel",e.orderData.dropLocationLat),i.Db(4),i.lc("ngModel",e.orderData.dropLocationLong),i.Db(4),i.lc("ngModel",e.orderData.customerAddress),i.Db(13),i.lc("ngIf",null==e.orderData.agent.image||""===e.orderData.agent.image),i.Db(1),i.lc("ngIf",null!=e.orderData.agent.image&&""!==e.orderData.agent.image),i.Db(3),i.Bc(e.orderData.agent.fullname),i.Db(4),i.Cc(" ",e.orderData.agent.email," "),i.Db(3),i.Cc(" ",e.orderData.agent.address?e.orderData.agent.address:"none"," "),i.Db(3),i.Cc(" ",e.orderData.agent.mobile?e.orderData.agent.mobile:"none"," "))},directives:[g.n,g.f,g.g,g.a,g.e,g.h,g.l,n.j,n.k,g.i,g.m],pipes:[n.b],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[a.d.forChild(L)],a.d]}),t})(),I=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,P,c.a]]}),t})()}}]);