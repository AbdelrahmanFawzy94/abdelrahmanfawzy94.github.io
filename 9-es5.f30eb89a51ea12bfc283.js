function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Vu9r:function(e,t,n){"use strict";n.r(t);var o=n("ofXK"),a=n("FpXt"),r=n("tyNb"),c=n("0sX0"),i=n("fXoL"),b=n("Gpft"),d=n("SOeY"),l=n("y8Vt"),u=n("WW8z"),s=n("K3ix"),g=n("3Pt+");function p(e,t){if(1&e&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&e){var n=t.$implicit;i.lc("value",n.id),i.Cb(1),i.Cc(n.type)}}function f(e,t){if(1&e&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&e){var n=t.$implicit;i.lc("value",n.id),i.Cb(1),i.Cc(n.name)}}function m(e,t){if(1&e&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&e){var n=t.$implicit;i.lc("value",n.id),i.Cb(1),i.Cc(n.name)}}function T(e,t){if(1&e&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&e){var n=t.$implicit;i.lc("value",n.id),i.Cb(1),i.Cc(n.type)}}function h(e,t){if(1&e&&(i.Ub(0,"tr"),i.Ub(1,"td"),i.Bc(2),i.Tb(),i.Ub(3,"td"),i.Bc(4),i.Tb(),i.Ub(5,"td"),i.Bc(6),i.Tb(),i.Ub(7,"td"),i.Bc(8),i.Tb(),i.Tb()),2&e){var n=t.$implicit;i.Cb(2),i.Cc(n.item),i.Cb(2),i.Cc(n.quantity),i.Cb(2),i.Cc(n.price),i.Cb(2),i.Cc(n.description)}}function C(e,t){if(1&e){var n=i.Vb();i.Ub(0,"div",36),i.Ub(1,"h4",37),i.Bc(2,"Items"),i.Tb(),i.Ub(3,"button",38),i.cc("click",(function(){return i.tc(n),i.gc().modalRef.hide()})),i.Ub(4,"span",39),i.Bc(5,"\xd7"),i.Tb(),i.Tb(),i.Tb(),i.Ub(6,"div",40),i.Ub(7,"form",1),i.Ub(8,"div",8),i.Ub(9,"table",41),i.Ub(10,"tr"),i.Ub(11,"th"),i.Bc(12,"Item"),i.Tb(),i.Ub(13,"th"),i.Bc(14,"Quantity"),i.Tb(),i.Ub(15,"th"),i.Bc(16,"Price"),i.Tb(),i.Ub(17,"th"),i.Bc(18,"Description"),i.Tb(),i.Tb(),i.zc(19,h,9,4,"tr",42),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(20,"div",43),i.Ub(21,"button",44),i.cc("click",(function(){return i.tc(n),i.gc().modalRef.hide()})),i.Bc(22,"Close"),i.Tb(),i.Tb()}if(2&e){var o=i.gc();i.Cb(19),i.lc("ngForOf",o.orderData.orderItems)}}function U(e,t){1&e&&(i.Ub(0,"td"),i.Bc(1,"Current"),i.Tb())}function v(e,t){if(1&e&&(i.Ub(0,"tr"),i.Ub(1,"td"),i.Bc(2),i.Tb(),i.Ub(3,"td"),i.Bc(4),i.Tb(),i.zc(5,U,2,0,"td",45),i.Tb()),2&e){var n=t.$implicit,o=i.gc(2);i.Cb(2),i.Cc(o.getStatusName(n.statusTypeId)),i.Cb(2),i.Cc(n.creationDate),i.Cb(1),i.lc("ngIf",n.isCurrent)}}function y(e,t){if(1&e&&(i.Ub(0,"tr"),i.Ub(1,"td"),i.Bc(2),i.Tb(),i.Ub(3,"td"),i.Bc(4),i.Tb(),i.Tb()),2&e){var n=t.$implicit,o=i.gc(2);i.Cb(2),i.Cc(o.getStatusName(n.orderStatusId)),i.Cb(2),i.Cc(n.creationDate)}}function D(e,t){if(1&e){var n=i.Vb();i.Ub(0,"div",36),i.Ub(1,"h4",37),i.Bc(2,"Items"),i.Tb(),i.Ub(3,"button",38),i.cc("click",(function(){return i.tc(n),i.gc().modalRef.hide()})),i.Ub(4,"span",39),i.Bc(5,"\xd7"),i.Tb(),i.Tb(),i.Tb(),i.Ub(6,"div",40),i.Ub(7,"form",1),i.Ub(8,"div",8),i.Ub(9,"table",41),i.Ub(10,"tr"),i.Ub(11,"th"),i.Bc(12,"Status"),i.Tb(),i.Ub(13,"th"),i.Bc(14,"Date"),i.Tb(),i.Pb(15,"th"),i.Tb(),i.zc(16,v,6,3,"tr",42),i.zc(17,y,5,2,"tr",42),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(18,"div",43),i.Ub(19,"button",44),i.cc("click",(function(){return i.tc(n),i.gc().modalRef.hide()})),i.Bc(20,"Close"),i.Tb(),i.Tb()}if(2&e){var o=i.gc();i.Cb(16),i.lc("ngForOf",o.orderData.orderCurrentStatus),i.Cb(1),i.lc("ngForOf",o.orderData.orderStatusHistories)}}function M(e,t){1&e&&(i.Ub(0,"div",46),i.Pb(1,"img",47),i.Tb())}function B(e,t){if(1&e&&(i.Ub(0,"div",46),i.Pb(1,"img",48),i.Tb()),2&e){var n=i.gc();i.Cb(1),i.lc("src",n.baseURL+"/"+n.agentPath+"/"+n.orderData.agent.id+"/"+n.folderPersonalPhotosPath+"/"+n.orderData.agent.image,i.uc)}}var k,L,P=[{path:"",component:(k=function(){function e(t,n,o,a,r,c){_classCallCheck(this,e),this.authService=t,this.systemService=n,this.userService=o,this.orderService=a,this.route=r,this.modalService=c,this.agentPath="Agents",this.folderPersonalPhotosPath="PersonalPhotos"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(t){e.orderId=Number.parseInt(t.id)})),this.baseURL=this.authService.getBaseURL(),this.loadCountries(),this.loadProductsTypes(),this.loadPaymentTypes(),this.loadOrderData(this.orderId)}},{key:"loadOrderData",value:function(e){var t=this;this.orderService.getOrder(e).subscribe((function(e){t.orderData=e,console.log(t.orderData),t.loadCities(t.orderData.agent.countryId)}))}},{key:"loadCountries",value:function(){this.countries$=this.systemService.getCountries()}},{key:"loadCities",value:function(e){this.cities$=this.systemService.getCities(e)}},{key:"birthCountryChange",value:function(e){this.loadCities(e.target.value)}},{key:"loadProductsTypes",value:function(){this.productTypes$=this.systemService.getProductTypes(),console.log(this.productTypes$)}},{key:"loadPaymentTypes",value:function(){this.paymentTypes$=this.systemService.getPaymentTypes(),console.log(this.paymentTypes$)}},{key:"saveOrderItems",value:function(){}},{key:"save",value:function(){}},{key:"getStatusName",value:function(e){return c.h[e]}},{key:"showTemplate",value:function(e){this.modalRef=this.modalService.show(e,Object.assign({},{class:"gray modal-lg"}))}}]),e}(),k.\u0275fac=function(e){return new(e||k)(i.Ob(b.a),i.Ob(d.a),i.Ob(l.a),i.Ob(u.a),i.Ob(r.a),i.Ob(s.a))},k.\u0275cmp=i.Ib({type:k,selectors:[["app-order"]],decls:97,vars:32,consts:[[1,"py-4"],[1,"row"],[1,"my-2","col-xl-8","col-md-7"],[1,"card"],[1,"card-header","card-header-shadow","gradient-info","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-1","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-xl-6","col-md-12"],[1,"text-capitalize"],["type","text","name","fullname",1,"form-control",3,"ngModel","ngModelChange"],["name","productType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","customerName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","customerPhone",1,"form-control",3,"ngModel","ngModelChange"],["name","country",1,"form-control",3,"ngModel","ngModelChange","change"],["name","city",1,"form-control",3,"ngModel","ngModelChange"],["name","paymentType",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","text-capitalize",3,"click"],["orderItems",""],["orderStatus",""],[1,"my-2","col-xl-4","col-md-5"],["class","avatar",4,"ngIf"],[1,"card-title","text-center"],[1,"data","my-3"],[1,"part","my-2"],[1,"far","fa-at"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone-alt"],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","100%","height","100%"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],[4,"ngIf"],[1,"avatar"],["src","https://ncbae.edu.pk/alhamra_new/wp-content/uploads/2016/08/person-2-200x200.jpg","alt",""],["alt","",3,"src"]],template:function(e,t){if(1&e){var n=i.Vb();i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"div",4),i.Ub(5,"h2",5),i.Bc(6),i.Tb(),i.Pb(7,"p",6),i.Tb(),i.Ub(8,"div",7),i.Ub(9,"form",1),i.Ub(10,"div",8),i.Ub(11,"label",9),i.Bc(12,"Agent"),i.Tb(),i.Ub(13,"input",10),i.cc("ngModelChange",(function(e){return t.orderData.agent.fullname=e})),i.Tb(),i.Tb(),i.Ub(14,"div",8),i.Ub(15,"label",9),i.Bc(16,"Product Type"),i.Tb(),i.Ub(17,"select",11),i.cc("ngModelChange",(function(e){return t.orderData.productTypeId=e})),i.zc(18,p,2,2,"option",12),i.hc(19,"async"),i.Tb(),i.Tb(),i.Ub(20,"div",8),i.Ub(21,"label",9),i.Bc(22,"Customer"),i.Tb(),i.Ub(23,"input",13),i.cc("ngModelChange",(function(e){return t.orderData.customerName=e})),i.Tb(),i.Tb(),i.Ub(24,"div",8),i.Ub(25,"label",9),i.Bc(26,"Customer Phone"),i.Tb(),i.Ub(27,"input",14),i.cc("ngModelChange",(function(e){return t.orderData.customerPhone=e})),i.Tb(),i.Tb(),i.Ub(28,"div",8),i.Ub(29,"label",9),i.Bc(30,"Country"),i.Tb(),i.Ub(31,"select",15),i.cc("ngModelChange",(function(e){return t.orderData.agent.countryId=e}))("change",(function(e){return t.birthCountryChange(e)})),i.zc(32,f,2,2,"option",12),i.hc(33,"async"),i.Tb(),i.Tb(),i.Ub(34,"div",8),i.Ub(35,"label",9),i.Bc(36,"City"),i.Tb(),i.Ub(37,"select",16),i.cc("ngModelChange",(function(e){return t.orderData.agent.cityId=e})),i.zc(38,m,2,2,"option",12),i.hc(39,"async"),i.Tb(),i.Tb(),i.Ub(40,"div",8),i.Ub(41,"label",9),i.Bc(42,"Payment Type"),i.Tb(),i.Ub(43,"select",17),i.cc("ngModelChange",(function(e){return t.orderData.paymentTypeId=e})),i.zc(44,T,2,2,"option",12),i.hc(45,"async"),i.Tb(),i.Tb(),i.Ub(46,"div",8),i.Ub(47,"label",9),i.Bc(48,"Description"),i.Tb(),i.Ub(49,"input",18),i.cc("ngModelChange",(function(e){return t.orderData.description=e})),i.Tb(),i.Tb(),i.Ub(50,"div",8),i.Ub(51,"label",9),i.Bc(52,"Pick up Location Latitude"),i.Tb(),i.Ub(53,"input",19),i.cc("ngModelChange",(function(e){return t.orderData.pickupLocationLat=e})),i.Tb(),i.Tb(),i.Ub(54,"div",8),i.Ub(55,"label",9),i.Bc(56,"Pick up Location Longitude"),i.Tb(),i.Ub(57,"input",20),i.cc("ngModelChange",(function(e){return t.orderData.pickupLocationLong=e})),i.Tb(),i.Tb(),i.Ub(58,"div",8),i.Ub(59,"label",9),i.Bc(60,"Drop Location Latitude"),i.Tb(),i.Ub(61,"input",21),i.cc("ngModelChange",(function(e){return t.orderData.dropLocationLat=e})),i.Tb(),i.Tb(),i.Ub(62,"div",8),i.Ub(63,"label",9),i.Bc(64,"Drop Location Longitude"),i.Tb(),i.Ub(65,"input",22),i.cc("ngModelChange",(function(e){return t.orderData.dropLocationLong=e})),i.Tb(),i.Tb(),i.Ub(66,"div",8),i.Ub(67,"label",9),i.Bc(68,"address"),i.Tb(),i.Ub(69,"input",23),i.cc("ngModelChange",(function(e){return t.orderData.customerAddress=e})),i.Tb(),i.Tb(),i.Ub(70,"div",8),i.Ub(71,"button",24),i.cc("click",(function(){i.tc(n);var e=i.qc(77);return t.showTemplate(e)})),i.Bc(72," Order Items "),i.Tb(),i.Tb(),i.Ub(73,"div",8),i.Ub(74,"button",24),i.cc("click",(function(){i.tc(n);var e=i.qc(79);return t.showTemplate(e)})),i.Bc(75," Order Status "),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.zc(76,C,23,1,"ng-template",null,25,i.Ac),i.zc(78,D,21,2,"ng-template",null,26,i.Ac),i.Ub(80,"div",27),i.Ub(81,"div",3),i.zc(82,M,2,0,"div",28),i.zc(83,B,2,1,"div",28),i.Ub(84,"div",7),i.Ub(85,"h2",29),i.Bc(86),i.Tb(),i.Ub(87,"div",30),i.Ub(88,"div",31),i.Pb(89,"i",32),i.Bc(90),i.Tb(),i.Ub(91,"div",31),i.Pb(92,"i",33),i.Bc(93),i.Tb(),i.Ub(94,"div",31),i.Pb(95,"i",34),i.Bc(96),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()}2&e&&(i.Cb(6),i.Dc("Order number [ ",t.orderData.id," ]"),i.Cb(7),i.lc("ngModel",t.orderData.agent.fullname),i.Cb(4),i.lc("ngModel",t.orderData.productTypeId),i.Cb(1),i.lc("ngForOf",i.ic(19,24,t.productTypes$)),i.Cb(5),i.lc("ngModel",t.orderData.customerName),i.Cb(4),i.lc("ngModel",t.orderData.customerPhone),i.Cb(4),i.lc("ngModel",t.orderData.agent.countryId),i.Cb(1),i.lc("ngForOf",i.ic(33,26,t.countries$)),i.Cb(5),i.lc("ngModel",t.orderData.agent.cityId),i.Cb(1),i.lc("ngForOf",i.ic(39,28,t.cities$)),i.Cb(5),i.lc("ngModel",t.orderData.paymentTypeId),i.Cb(1),i.lc("ngForOf",i.ic(45,30,t.paymentTypes$)),i.Cb(5),i.lc("ngModel",t.orderData.description),i.Cb(4),i.lc("ngModel",t.orderData.pickupLocationLat),i.Cb(4),i.lc("ngModel",t.orderData.pickupLocationLong),i.Cb(4),i.lc("ngModel",t.orderData.dropLocationLat),i.Cb(4),i.lc("ngModel",t.orderData.dropLocationLong),i.Cb(4),i.lc("ngModel",t.orderData.customerAddress),i.Cb(13),i.lc("ngIf",null==t.orderData.agent.image||""===t.orderData.agent.image),i.Cb(1),i.lc("ngIf",null!=t.orderData.agent.image&&""!==t.orderData.agent.image),i.Cb(3),i.Cc(t.orderData.agent.fullname),i.Cb(4),i.Dc(" ",t.orderData.agent.email," "),i.Cb(3),i.Dc(" ",t.orderData.agent.address?t.orderData.agent.address:"none"," "),i.Cb(3),i.Dc(" ",t.orderData.agent.mobile?t.orderData.agent.mobile:"none"," "))},directives:[g.n,g.f,g.g,g.a,g.e,g.h,g.l,o.j,o.k,g.i,g.m],pipes:[o.b],styles:[""]}),k)}],I=((L=function e(){_classCallCheck(this,e)}).\u0275mod=i.Mb({type:L}),L.\u0275inj=i.Lb({factory:function(e){return new(e||L)},imports:[[r.d.forChild(P)],r.d]}),L);n.d(t,"OrderModule",(function(){return w}));var O,w=((O=function e(){_classCallCheck(this,e)}).\u0275mod=i.Mb({type:O}),O.\u0275inj=i.Lb({factory:function(e){return new(e||O)},providers:[],imports:[[o.c,I,a.a]]}),O)}}]);