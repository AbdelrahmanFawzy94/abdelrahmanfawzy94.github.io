(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"+hkp":function(e,t,a){"use strict";a.r(t),a.d(t,"OrdersModule",function(){return V});var r=a("ofXK"),i=a("FpXt"),o=a("tyNb"),c=a("+0xr"),s=a("fXoL"),n=a("WW8z"),d=a("Gpft"),l=a("M9IT"),b=a("xJkR");const m=function(){return{height:"35px",backgroundColor:"#ddd"}};function u(e,t){if(1&e&&(s.Vb(0,"div",10),s.Qb(1,"ngx-skeleton-loader",11),s.Ub()),2&e){const e=s.gc();s.Db(1),s.lc("count",e.perPage)("theme",s.nc(2,m))}}function g(e,t){1&e&&(s.Vb(0,"mat-header-cell"),s.Ac(1," Order number "),s.Ub())}function h(e,t){if(1&e&&(s.Vb(0,"mat-cell"),s.Ac(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Cc(" ",e.id," ")}}function f(e,t){1&e&&(s.Vb(0,"mat-header-cell"),s.Ac(1," From agent "),s.Ub())}function p(e,t){if(1&e&&(s.Vb(0,"mat-cell"),s.Ac(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Cc(" ",e.agent.fullname," ")}}function U(e,t){1&e&&(s.Vb(0,"mat-header-cell"),s.Ac(1," To customer "),s.Ub())}function y(e,t){if(1&e&&(s.Vb(0,"mat-cell"),s.Ac(1),s.Ub()),2&e){const e=t.$implicit;s.Db(1),s.Cc(" ",e.customerName," ")}}function D(e,t){1&e&&s.Qb(0,"mat-header-row")}function v(e,t){if(1&e){const e=s.Wb();s.Vb(0,"mat-row",21),s.cc("click",function(){s.uc(e);const a=t.$implicit;return s.gc(2).routeUser(a.id)}),s.Ub()}}function w(e,t){if(1&e&&(s.Vb(0,"div",12),s.Vb(1,"mat-table",13),s.Tb(2,14),s.yc(3,g,2,0,"mat-header-cell",15),s.yc(4,h,2,1,"mat-cell",16),s.Sb(),s.Tb(5,17),s.yc(6,f,2,0,"mat-header-cell",15),s.yc(7,p,2,1,"mat-cell",16),s.Sb(),s.Tb(8,18),s.yc(9,U,2,0,"mat-header-cell",15),s.yc(10,y,2,1,"mat-cell",16),s.Sb(),s.yc(11,D,1,0,"mat-header-row",19),s.yc(12,v,1,0,"mat-row",20),s.Ub(),s.Ub()),2&e){const e=s.gc();s.Db(1),s.lc("dataSource",e.dataSource),s.Db(10),s.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),s.Db(1),s.lc("matRowDefColumns",e.displayedColumns)}}const C=function(){return[5,10]},S=[{path:"",component:(()=>{class e{constructor(e,t,a){this.orderService=e,this.authService=t,this.router=a,this.isLoading=!1,this.displayedColumns=["orderNumber","fromAgent","toCustomer"],this.total=0,this.page=1,this.perPage=10,this.baseURL="",this.assetsPath="/Assets/Images/Drivers/",this.personalPhotosPath="PersonalPhotos"}ngOnInit(){this.loggedUser=this.authService.getLoggedUser(),this.isLoading=!0,this.baseURL=this.authService.getBaseURL(),this.getOrders(this.page,this.perPage)}getOrders(e,t){this.orderService.getUserOrders({userId:this.loggedUser.id,page:e,numberOfObjectsPerPage:t}).subscribe(e=>{this.dataSource=new c.k(e.orders),this.total=e.total,this.isLoading=!1})}onPageChanges(e){this.isLoading=!0,this.page=e.pageIndex+1,this.perPage=e.pageSize,this.getOrders(this.page,this.perPage)}routeUser(e){console.log(e),this.router.navigate(["dashboard/order/",e])}}return e.\u0275fac=function(t){return new(t||e)(s.Pb(n.a),s.Pb(d.a),s.Pb(o.b))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-orders"]],decls:11,vars:6,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-box-check","bg-danger"],[1,"text-capitalize","mx-3"],[1,"card-body","mat-card-body"],[1,"table-responsive"],["class","test",4,"ngIf"],["class","table-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],[1,"test"],["animation","progress",3,"count","theme"],[1,"table-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","orderNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","fromAgent"],["matColumnDef","toCustomer"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[3,"click",4,"matRowDef","matRowDefColumns"],[3,"click"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Qb(3,"i",3),s.Vb(4,"span",4),s.Ac(5,"orders"),s.Ub(),s.Ub(),s.Ub(),s.Vb(6,"div",5),s.Vb(7,"div",6),s.yc(8,u,2,3,"div",7),s.yc(9,w,13,4,"div",8),s.Ub(),s.Vb(10,"mat-paginator",9),s.cc("page",function(e){return t.onPageChanges(e)}),s.Ub(),s.Ub(),s.Ub()),2&e&&(s.Db(8),s.lc("ngIf",t.isLoading),s.Db(1),s.lc("ngIf",!t.isLoading),s.Db(1),s.lc("length",t.total)("pageSize",t.perPage)("pageSizeOptions",s.nc(5,C)))},directives:[r.k,l.a,b.a,c.j,c.c,c.e,c.b,c.g,c.i,c.d,c.a,c.f,c.h],styles:[""]}),e})()}];let P=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[o.d.forChild(S)],o.d]}),e})(),V=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,P,i.a]]}),e})()}}]);