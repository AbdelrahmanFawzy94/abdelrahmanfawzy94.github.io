(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Vz0b:function(e,t,a){"use strict";a.r(t),a.d(t,"OrdersListModule",function(){return z});var r=a("ofXK"),c=a("FpXt"),n=a("tyNb"),i=a("mrSG"),o=a("+0xr"),s=a("AytR"),b=a("3bzS"),l=a("fXoL"),d=a("2Bhs"),u=a("Gpft"),m=a("sYmb"),h=a("kmnG"),p=a("e6WT"),g=a("M9IT"),f=a("xJkR");const C=function(){return{height:"35px",backgroundColor:"#ddd"}};function E(e,t){if(1&e&&(l.Wb(0,"div"),l.Rb(1,"ngx-skeleton-loader",15),l.Vb()),2&e){const e=l.hc();l.Eb(1),l.nc("count",e.perPage)("theme",l.pc(2,C))}}function w(e,t){1&e&&(l.Wb(0,"mat-header-cell"),l.Cc(1),l.ic(2,"translate"),l.Vb()),2&e&&(l.Eb(1),l.Ec(" ",l.jc(2,1,"orders.orderNumber")," "))}function v(e,t){if(1&e&&(l.Wb(0,"mat-cell"),l.Cc(1),l.Vb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(" ",e.id," ")}}function V(e,t){1&e&&(l.Wb(0,"mat-header-cell"),l.Cc(1),l.ic(2,"translate"),l.Vb()),2&e&&(l.Eb(1),l.Ec(" ",l.jc(2,1,"orders.toCustomer")," "))}function W(e,t){if(1&e&&(l.Wb(0,"mat-cell"),l.Cc(1),l.Vb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(" ",e.customerName," ")}}function y(e,t){1&e&&(l.Wb(0,"mat-header-cell"),l.Cc(1),l.ic(2,"translate"),l.Vb()),2&e&&(l.Eb(1),l.Ec(" ",l.jc(2,1,"orders.date")," "))}function A(e,t){if(1&e&&(l.Wb(0,"mat-cell"),l.Cc(1),l.ic(2,"date"),l.Vb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(" ",l.kc(2,1,e.creationDate,"dd/MM/yyyy")," ")}}function L(e,t){1&e&&(l.Wb(0,"mat-header-cell"),l.Cc(1),l.ic(2,"translate"),l.Vb()),2&e&&(l.Eb(1),l.Ec(" ",l.jc(2,1,"orders.time")," "))}function S(e,t){if(1&e&&(l.Wb(0,"mat-cell"),l.Cc(1),l.ic(2,"date"),l.Vb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(" ",l.kc(2,1,e.creationDate,"shortTime")," ")}}function k(e,t){1&e&&(l.Wb(0,"mat-header-cell"),l.Cc(1),l.ic(2,"translate"),l.Vb()),2&e&&(l.Eb(1),l.Ec(" ",l.jc(2,1,"orders.fromAgent")," "))}function D(e,t){if(1&e&&(l.Wb(0,"mat-cell"),l.Cc(1),l.Vb()),2&e){const e=t.$implicit;l.Eb(1),l.Ec(" ",e.agent.fullname," ")}}function j(e,t){1&e&&l.Rb(0,"mat-header-row")}function I(e,t){if(1&e){const e=l.Xb();l.Wb(0,"mat-row",27),l.dc("click",function(){l.wc(e);const a=t.$implicit;return l.hc(2).routeUser(a.id)}),l.Vb()}}function O(e,t){if(1&e&&(l.Wb(0,"div",16),l.Wb(1,"mat-table",17),l.Ub(2,18),l.Ac(3,w,3,3,"mat-header-cell",19),l.Ac(4,v,2,1,"mat-cell",20),l.Tb(),l.Ub(5,21),l.Ac(6,V,3,3,"mat-header-cell",19),l.Ac(7,W,2,1,"mat-cell",20),l.Tb(),l.Ub(8,22),l.Ac(9,y,3,3,"mat-header-cell",19),l.Ac(10,A,3,4,"mat-cell",20),l.Tb(),l.Ub(11,23),l.Ac(12,L,3,3,"mat-header-cell",19),l.Ac(13,S,3,4,"mat-cell",20),l.Tb(),l.Ub(14,24),l.Ac(15,k,3,3,"mat-header-cell",19),l.Ac(16,D,2,1,"mat-cell",20),l.Tb(),l.Ac(17,j,1,0,"mat-header-row",25),l.Ac(18,I,1,0,"mat-row",26),l.Vb(),l.Vb()),2&e){const e=l.hc();l.Eb(1),l.nc("dataSource",e.dataSource),l.Eb(16),l.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),l.Eb(1),l.nc("matRowDefColumns",e.displayedColumns)}}const P=function(){return["../../new-order"]},R=function(){return[5,10]},U=[{path:"",component:(()=>{let e=class{constructor(e,t,a,r){this.orderService=e,this.authService=t,this.router=a,this.translate=r,this.currentLang=localStorage.getItem("sender-lang")||"en",this.matInputAppearance=s.a.inputsStyleAppearance,this.matInputColor=s.a.inputsStyleColor,this.isLoading=!1,this.displayedColumns=["orderNumber","toCustomer","date","time","fromAgent"],this.total=0,this.page=1,this.perPage=5,this.searchInput=null,this.baseURL="",this.assetsPath="/Assets/Images/Drivers/",this.personalPhotosPath="PersonalPhotos"}ngOnInit(){this.loggedUser=this.authService.getLoggedUser(),this.isLoading=!0,this.baseURL=this.authService.getBaseURL(),this.getOrders(this.page,this.perPage),this.getCurrentLang()}getCurrentLang(){this.translate.onLangChange.pipe(Object(b.b)(this)).subscribe(e=>{this.currentLang="ar"===e.lang?"ar":"en"})}getOrders(e,t){this.orderService.getUserOrders({userId:this.loggedUser.id,page:e,numberOfObjectsPerPage:t}).subscribe(e=>{this.dataSource=new o.k(e.orders),this.total=e.total,this.isLoading=!1})}onPageChanges(e){this.isLoading=!0,this.page=e.pageIndex+1,this.perPage=e.pageSize,this.getOrders(this.page,this.perPage)}filter(e){console.log(e.target.value),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3),e.target.value=null}routeUser(e){this.router.navigate(["dashboard/order/",e])}};return e.\u0275fac=function(t){return new(t||e)(l.Qb(d.a),l.Qb(u.a),l.Qb(n.c),l.Qb(m.d))},e.\u0275cmp=l.Kb({type:e,selectors:[["app-orders"]],decls:22,vars:19,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-box-check","bg-danger"],[1,"text-capitalize","mx-3"],[1,"card-body","mat-card-body"],[1,"table-actions","d-flex","justify-content-between","align-items-center"],[2,"width","250px",3,"appearance","color"],["matInput","",3,"keyup.enter"],[1,"buttons"],[1,"btn","btn-info","text-capitalize",3,"routerLink"],[1,"table-responsive"],[4,"ngIf"],["class","table-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],["animation","progress",3,"count","theme"],[1,"table-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","orderNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","toCustomer"],["matColumnDef","date"],["matColumnDef","time"],["matColumnDef","fromAgent"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","row-hover",3,"click",4,"matRowDef","matRowDefColumns"],[1,"row-hover",3,"click"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Rb(3,"i",3),l.Wb(4,"span",4),l.Cc(5),l.ic(6,"translate"),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"div",5),l.Wb(8,"div",6),l.Wb(9,"mat-form-field",7),l.Wb(10,"mat-label"),l.Cc(11),l.ic(12,"translate"),l.Vb(),l.Wb(13,"input",8),l.dc("keyup.enter",function(e){return t.filter(e)}),l.Vb(),l.Vb(),l.Wb(14,"div",9),l.Wb(15,"button",10),l.Cc(16),l.ic(17,"translate"),l.Vb(),l.Vb(),l.Vb(),l.Wb(18,"div",11),l.Ac(19,E,2,3,"div",12),l.Ac(20,O,19,4,"div",13),l.Vb(),l.Wb(21,"mat-paginator",14),l.dc("page",function(e){return t.onPageChanges(e)}),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Eb(5),l.Ec(" ",l.jc(6,11,"orders.orders")," "),l.Eb(4),l.nc("appearance",t.matInputAppearance)("color",t.matInputColor),l.Eb(2),l.Dc(l.jc(12,13,"orders.search")),l.Eb(4),l.nc("routerLink",l.pc(17,P)),l.Eb(1),l.Ec(" ",l.jc(17,15,"orders.addNewOrder")," "),l.Eb(3),l.nc("ngIf",t.isLoading),l.Eb(1),l.nc("ngIf",!t.isLoading),l.Eb(1),l.nc("length",t.total)("pageSize",t.perPage)("pageSizeOptions",l.pc(18,R)))},directives:[h.c,h.f,p.a,n.d,r.l,g.a,f.a,o.j,o.c,o.e,o.b,o.g,o.i,o.d,o.a,o.f,o.h],pipes:[m.c,r.e],styles:[""]}),e=Object(i.a)([Object(b.a)({checkProperties:!0})],e),e})()}];let x=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},imports:[[n.e.forChild(U)],n.e]}),e})(),z=(()=>{class e{}return e.\u0275mod=l.Ob({type:e}),e.\u0275inj=l.Nb({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,x,c.a]]}),e})()}}]);