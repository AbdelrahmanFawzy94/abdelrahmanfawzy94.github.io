!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Vz0b:function(a,r,n){"use strict";n.r(r),n.d(r,"OrdersListModule",function(){return M});var i=n("ofXK"),c=n("FpXt"),o=n("tyNb"),s=n("mrSG"),l=n("+0xr"),b=n("AytR"),u=n("3bzS"),d=n("fXoL"),m=n("2Bhs"),f=n("Gpft"),h=n("sYmb"),p=n("kmnG"),g=n("e6WT"),v=n("M9IT"),C=n("xJkR"),y=function(){return{height:"35px",backgroundColor:"#ddd"}};function E(e,t){if(1&e&&(d.Wb(0,"div"),d.Rb(1,"ngx-skeleton-loader",15),d.Vb()),2&e){var a=d.hc();d.Eb(1),d.nc("count",a.perPage)("theme",d.pc(2,y))}}function w(e,t){1&e&&(d.Wb(0,"mat-header-cell"),d.Cc(1),d.ic(2,"translate"),d.Vb()),2&e&&(d.Eb(1),d.Ec(" ",d.jc(2,1,"orders.orderNumber")," "))}function V(e,t){if(1&e&&(d.Wb(0,"mat-cell"),d.Cc(1),d.Vb()),2&e){var a=t.$implicit;d.Eb(1),d.Ec(" ",a.id," ")}}function W(e,t){1&e&&(d.Wb(0,"mat-header-cell"),d.Cc(1),d.ic(2,"translate"),d.Vb()),2&e&&(d.Eb(1),d.Ec(" ",d.jc(2,1,"orders.toCustomer")," "))}function k(e,t){if(1&e&&(d.Wb(0,"mat-cell"),d.Cc(1),d.Vb()),2&e){var a=t.$implicit;d.Eb(1),d.Ec(" ",a.customerName," ")}}function A(e,t){1&e&&(d.Wb(0,"mat-header-cell"),d.Cc(1),d.ic(2,"translate"),d.Vb()),2&e&&(d.Eb(1),d.Ec(" ",d.jc(2,1,"orders.date")," "))}function L(e,t){if(1&e&&(d.Wb(0,"mat-cell"),d.Cc(1),d.ic(2,"date"),d.Vb()),2&e){var a=t.$implicit;d.Eb(1),d.Ec(" ",d.kc(2,1,a.creationDate,"dd/MM/yyyy")," ")}}function S(e,t){1&e&&(d.Wb(0,"mat-header-cell"),d.Cc(1),d.ic(2,"translate"),d.Vb()),2&e&&(d.Eb(1),d.Ec(" ",d.jc(2,1,"orders.time")," "))}function D(e,t){if(1&e&&(d.Wb(0,"mat-cell"),d.Cc(1),d.ic(2,"date"),d.Vb()),2&e){var a=t.$implicit;d.Eb(1),d.Ec(" ",d.kc(2,1,a.creationDate,"shortTime")," ")}}function j(e,t){1&e&&(d.Wb(0,"mat-header-cell"),d.Cc(1),d.ic(2,"translate"),d.Vb()),2&e&&(d.Eb(1),d.Ec(" ",d.jc(2,1,"orders.fromAgent")," "))}function O(e,t){if(1&e&&(d.Wb(0,"mat-cell"),d.Cc(1),d.Vb()),2&e){var a=t.$implicit;d.Eb(1),d.Ec(" ",a.agent.fullname," ")}}function P(e,t){1&e&&d.Rb(0,"mat-header-row")}function I(e,t){if(1&e){var a=d.Xb();d.Wb(0,"mat-row",27),d.dc("click",function(){d.wc(a);var e=t.$implicit;return d.hc(2).routeUser(e.id)}),d.Vb()}}function R(e,t){if(1&e&&(d.Wb(0,"div",16),d.Wb(1,"mat-table",17),d.Ub(2,18),d.Ac(3,w,3,3,"mat-header-cell",19),d.Ac(4,V,2,1,"mat-cell",20),d.Tb(),d.Ub(5,21),d.Ac(6,W,3,3,"mat-header-cell",19),d.Ac(7,k,2,1,"mat-cell",20),d.Tb(),d.Ub(8,22),d.Ac(9,A,3,3,"mat-header-cell",19),d.Ac(10,L,3,4,"mat-cell",20),d.Tb(),d.Ub(11,23),d.Ac(12,S,3,3,"mat-header-cell",19),d.Ac(13,D,3,4,"mat-cell",20),d.Tb(),d.Ub(14,24),d.Ac(15,j,3,3,"mat-header-cell",19),d.Ac(16,O,2,1,"mat-cell",20),d.Tb(),d.Ac(17,P,1,0,"mat-header-row",25),d.Ac(18,I,1,0,"mat-row",26),d.Vb(),d.Vb()),2&e){var a=d.hc();d.Eb(1),d.nc("dataSource",a.dataSource),d.Eb(16),d.nc("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),d.Eb(1),d.nc("matRowDefColumns",a.displayedColumns)}}var U,x,z,T=function(){return["../../new-order"]},N=function(){return[5,10]},$=[{path:"",component:(U=function(){function a(t,r,n,i){e(this,a),this.orderService=t,this.authService=r,this.router=n,this.translate=i,this.currentLang=localStorage.getItem("sender-lang")||"en",this.matInputAppearance=b.a.inputsStyleAppearance,this.matInputColor=b.a.inputsStyleColor,this.isLoading=!1,this.displayedColumns=["orderNumber","toCustomer","date","time","fromAgent"],this.total=0,this.page=1,this.perPage=5,this.searchInput=null,this.baseURL="",this.assetsPath="/Assets/Images/Drivers/",this.personalPhotosPath="PersonalPhotos"}var r,n,i;return r=a,(n=[{key:"ngOnInit",value:function(){this.loggedUser=this.authService.getLoggedUser(),this.isLoading=!0,this.baseURL=this.authService.getBaseURL(),this.getOrders(this.page,this.perPage),this.getCurrentLang()}},{key:"getCurrentLang",value:function(){var e=this;this.translate.onLangChange.pipe(Object(u.b)(this)).subscribe(function(t){e.currentLang="ar"===t.lang?"ar":"en"})}},{key:"getOrders",value:function(e,t){var a=this;this.orderService.getUserOrders({userId:this.loggedUser.id,page:e,numberOfObjectsPerPage:t}).subscribe(function(e){a.dataSource=new l.k(e.orders),a.total=e.total,a.isLoading=!1})}},{key:"onPageChanges",value:function(e){this.isLoading=!0,this.page=e.pageIndex+1,this.perPage=e.pageSize,this.getOrders(this.page,this.perPage)}},{key:"filter",value:function(e){var t=this;console.log(e.target.value),this.isLoading=!0,setTimeout(function(){t.isLoading=!1},1e3),e.target.value=null}},{key:"routeUser",value:function(e){this.router.navigate(["dashboard/order/",e])}}])&&t(r.prototype,n),i&&t(r,i),a}(),U.\u0275fac=function(e){return new(e||U)(d.Qb(m.a),d.Qb(f.a),d.Qb(o.c),d.Qb(h.d))},U.\u0275cmp=d.Kb({type:U,selectors:[["app-orders"]],decls:22,vars:19,consts:[[1,"card"],[1,"card-header","bg-white","py-0"],[1,"mat-card-header"],[1,"fas","fa-box-check","bg-danger"],[1,"text-capitalize","mx-3"],[1,"card-body","mat-card-body"],[1,"table-actions","d-flex","justify-content-between","align-items-center"],[2,"width","250px",3,"appearance","color"],["matInput","",3,"keyup.enter"],[1,"buttons"],[1,"btn","btn-info","text-capitalize",3,"routerLink"],[1,"table-responsive"],[4,"ngIf"],["class","table-container",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page"],["animation","progress",3,"count","theme"],[1,"table-container"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","orderNumber"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","toCustomer"],["matColumnDef","date"],["matColumnDef","time"],["matColumnDef","fromAgent"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","row-hover",3,"click",4,"matRowDef","matRowDefColumns"],[1,"row-hover",3,"click"]],template:function(e,t){1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"div",2),d.Rb(3,"i",3),d.Wb(4,"span",4),d.Cc(5),d.ic(6,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"div",5),d.Wb(8,"div",6),d.Wb(9,"mat-form-field",7),d.Wb(10,"mat-label"),d.Cc(11),d.ic(12,"translate"),d.Vb(),d.Wb(13,"input",8),d.dc("keyup.enter",function(e){return t.filter(e)}),d.Vb(),d.Vb(),d.Wb(14,"div",9),d.Wb(15,"button",10),d.Cc(16),d.ic(17,"translate"),d.Vb(),d.Vb(),d.Vb(),d.Wb(18,"div",11),d.Ac(19,E,2,3,"div",12),d.Ac(20,R,19,4,"div",13),d.Vb(),d.Wb(21,"mat-paginator",14),d.dc("page",function(e){return t.onPageChanges(e)}),d.Vb(),d.Vb(),d.Vb()),2&e&&(d.Eb(5),d.Ec(" ",d.jc(6,11,"orders.orders")," "),d.Eb(4),d.nc("appearance",t.matInputAppearance)("color",t.matInputColor),d.Eb(2),d.Dc(d.jc(12,13,"orders.search")),d.Eb(4),d.nc("routerLink",d.pc(17,T)),d.Eb(1),d.Ec(" ",d.jc(17,15,"orders.addNewOrder")," "),d.Eb(3),d.nc("ngIf",t.isLoading),d.Eb(1),d.nc("ngIf",!t.isLoading),d.Eb(1),d.nc("length",t.total)("pageSize",t.perPage)("pageSizeOptions",d.pc(18,N)))},directives:[p.c,p.f,g.a,o.d,i.l,v.a,C.a,l.j,l.c,l.e,l.b,l.g,l.i,l.d,l.a,l.f,l.h],pipes:[h.c,i.e],styles:[""]}),U=Object(s.a)([Object(u.a)({checkProperties:!0})],U))}],H=((z=function t(){e(this,t)}).\u0275mod=d.Ob({type:z}),z.\u0275inj=d.Nb({factory:function(e){return new(e||z)},imports:[[o.e.forChild($)],o.e]}),z),M=((x=function t(){e(this,t)}).\u0275mod=d.Ob({type:x}),x.\u0275inj=d.Nb({factory:function(e){return new(e||x)},providers:[],imports:[[i.c,H,c.a]]}),x)}}])}();