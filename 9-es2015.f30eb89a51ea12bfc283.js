(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Vu9r:function(t,e,o){"use strict";o.r(e);var n=o("ofXK"),c=o("FpXt"),a=o("tyNb"),r=o("0sX0"),i=o("fXoL"),b=o("Gpft"),d=o("SOeY"),l=o("y8Vt"),s=o("WW8z"),u=o("K3ix"),g=o("3Pt+");function p(t,e){if(1&t&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Cb(1),i.Cc(t.type)}}function m(t,e){if(1&t&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Cb(1),i.Cc(t.name)}}function T(t,e){if(1&t&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Cb(1),i.Cc(t.name)}}function h(t,e){if(1&t&&(i.Ub(0,"option",35),i.Bc(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Cb(1),i.Cc(t.type)}}function f(t,e){if(1&t&&(i.Ub(0,"tr"),i.Ub(1,"td"),i.Bc(2),i.Tb(),i.Ub(3,"td"),i.Bc(4),i.Tb(),i.Ub(5,"td"),i.Bc(6),i.Tb(),i.Ub(7,"td"),i.Bc(8),i.Tb(),i.Tb()),2&t){const t=e.$implicit;i.Cb(2),i.Cc(t.item),i.Cb(2),i.Cc(t.quantity),i.Cb(2),i.Cc(t.price),i.Cb(2),i.Cc(t.description)}}function U(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",36),i.Ub(1,"h4",37),i.Bc(2,"Items"),i.Tb(),i.Ub(3,"button",38),i.cc("click",(function(){return i.tc(t),i.gc().modalRef.hide()})),i.Ub(4,"span",39),i.Bc(5,"\xd7"),i.Tb(),i.Tb(),i.Tb(),i.Ub(6,"div",40),i.Ub(7,"form",1),i.Ub(8,"div",8),i.Ub(9,"table",41),i.Ub(10,"tr"),i.Ub(11,"th"),i.Bc(12,"Item"),i.Tb(),i.Ub(13,"th"),i.Bc(14,"Quantity"),i.Tb(),i.Ub(15,"th"),i.Bc(16,"Price"),i.Tb(),i.Ub(17,"th"),i.Bc(18,"Description"),i.Tb(),i.Tb(),i.zc(19,f,9,4,"tr",42),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(20,"div",43),i.Ub(21,"button",44),i.cc("click",(function(){return i.tc(t),i.gc().modalRef.hide()})),i.Bc(22,"Close"),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(19),i.lc("ngForOf",t.orderData.orderItems)}}function C(t,e){1&t&&(i.Ub(0,"td"),i.Bc(1,"Current"),i.Tb())}function y(t,e){if(1&t&&(i.Ub(0,"tr"),i.Ub(1,"td"),i.Bc(2),i.Tb(),i.Ub(3,"td"),i.Bc(4),i.Tb(),i.zc(5,C,2,0,"td",45),i.Tb()),2&t){const t=e.$implicit,o=i.gc(2);i.Cb(2),i.Cc(o.getStatusName(t.statusTypeId)),i.Cb(2),i.Cc(t.creationDate),i.Cb(1),i.lc("ngIf",t.isCurrent)}}function v(t,e){if(1&t&&(i.Ub(0,"tr"),i.Ub(1,"td"),i.Bc(2),i.Tb(),i.Ub(3,"td"),i.Bc(4),i.Tb(),i.Tb()),2&t){const t=e.$implicit,o=i.gc(2);i.Cb(2),i.Cc(o.getStatusName(t.orderStatusId)),i.Cb(2),i.Cc(t.creationDate)}}function D(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",36),i.Ub(1,"h4",37),i.Bc(2,"Items"),i.Tb(),i.Ub(3,"button",38),i.cc("click",(function(){return i.tc(t),i.gc().modalRef.hide()})),i.Ub(4,"span",39),i.Bc(5,"\xd7"),i.Tb(),i.Tb(),i.Tb(),i.Ub(6,"div",40),i.Ub(7,"form",1),i.Ub(8,"div",8),i.Ub(9,"table",41),i.Ub(10,"tr"),i.Ub(11,"th"),i.Bc(12,"Status"),i.Tb(),i.Ub(13,"th"),i.Bc(14,"Date"),i.Tb(),i.Pb(15,"th"),i.Tb(),i.zc(16,y,6,3,"tr",42),i.zc(17,v,5,2,"tr",42),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Ub(18,"div",43),i.Ub(19,"button",44),i.cc("click",(function(){return i.tc(t),i.gc().modalRef.hide()})),i.Bc(20,"Close"),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(16),i.lc("ngForOf",t.orderData.orderCurrentStatus),i.Cb(1),i.lc("ngForOf",t.orderData.orderStatusHistories)}}function M(t,e){1&t&&(i.Ub(0,"div",46),i.Pb(1,"img",47),i.Tb())}function B(t,e){if(1&t&&(i.Ub(0,"div",46),i.Pb(1,"img",48),i.Tb()),2&t){const t=i.gc();i.Cb(1),i.lc("src",t.baseURL+"/"+t.agentPath+"/"+t.orderData.agent.id+"/"+t.folderPersonalPhotosPath+"/"+t.orderData.agent.image,i.uc)}}const L=[{path:"",component:(()=>{class t{constructor(t,e,o,n,c,a){this.authService=t,this.systemService=e,this.userService=o,this.orderService=n,this.route=c,this.modalService=a,this.agentPath="Agents",this.folderPersonalPhotosPath="PersonalPhotos"}ngOnInit(){this.route.params.subscribe(t=>{this.orderId=Number.parseInt(t.id)}),this.baseURL=this.authService.getBaseURL(),this.loadCountries(),this.loadProductsTypes(),this.loadPaymentTypes(),this.loadOrderData(this.orderId)}loadOrderData(t){this.orderService.getOrder(t).subscribe(t=>{this.orderData=t,console.log(this.orderData),this.loadCities(this.orderData.agent.countryId)})}loadCountries(){this.countries$=this.systemService.getCountries()}loadCities(t){this.cities$=this.systemService.getCities(t)}birthCountryChange(t){this.loadCities(t.target.value)}loadProductsTypes(){this.productTypes$=this.systemService.getProductTypes(),console.log(this.productTypes$)}loadPaymentTypes(){this.paymentTypes$=this.systemService.getPaymentTypes(),console.log(this.paymentTypes$)}saveOrderItems(){}save(){}getStatusName(t){return r.h[t]}showTemplate(t){this.modalRef=this.modalService.show(t,Object.assign({},{class:"gray modal-lg"}))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(b.a),i.Ob(d.a),i.Ob(l.a),i.Ob(s.a),i.Ob(a.a),i.Ob(u.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-order"]],decls:97,vars:32,consts:[[1,"py-4"],[1,"row"],[1,"my-2","col-xl-8","col-md-7"],[1,"card"],[1,"card-header","card-header-shadow","gradient-info","text-white","border-0","inside-card"],[1,"font-weight-normal","mb-1","text-capitalize"],[1,"card-text","mb-1"],[1,"card-body"],[1,"form-group","col-xl-6","col-md-12"],[1,"text-capitalize"],["type","text","name","fullname",1,"form-control",3,"ngModel","ngModelChange"],["name","productType",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","customerName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","customerPhone",1,"form-control",3,"ngModel","ngModelChange"],["name","country",1,"form-control",3,"ngModel","ngModelChange","change"],["name","city",1,"form-control",3,"ngModel","ngModelChange"],["name","paymentType",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","pickupLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLat",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","dropLocationLong",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning","text-capitalize",3,"click"],["orderItems",""],["orderStatus",""],[1,"my-2","col-xl-4","col-md-5"],["class","avatar",4,"ngIf"],[1,"card-title","text-center"],[1,"data","my-3"],[1,"part","my-2"],[1,"far","fa-at"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-phone-alt"],[3,"value"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","100%","height","100%"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-default",3,"click"],[4,"ngIf"],[1,"avatar"],["src","https://ncbae.edu.pk/alhamra_new/wp-content/uploads/2016/08/person-2-200x200.jpg","alt",""],["alt","",3,"src"]],template:function(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.Ub(4,"div",4),i.Ub(5,"h2",5),i.Bc(6),i.Tb(),i.Pb(7,"p",6),i.Tb(),i.Ub(8,"div",7),i.Ub(9,"form",1),i.Ub(10,"div",8),i.Ub(11,"label",9),i.Bc(12,"Agent"),i.Tb(),i.Ub(13,"input",10),i.cc("ngModelChange",(function(t){return e.orderData.agent.fullname=t})),i.Tb(),i.Tb(),i.Ub(14,"div",8),i.Ub(15,"label",9),i.Bc(16,"Product Type"),i.Tb(),i.Ub(17,"select",11),i.cc("ngModelChange",(function(t){return e.orderData.productTypeId=t})),i.zc(18,p,2,2,"option",12),i.hc(19,"async"),i.Tb(),i.Tb(),i.Ub(20,"div",8),i.Ub(21,"label",9),i.Bc(22,"Customer"),i.Tb(),i.Ub(23,"input",13),i.cc("ngModelChange",(function(t){return e.orderData.customerName=t})),i.Tb(),i.Tb(),i.Ub(24,"div",8),i.Ub(25,"label",9),i.Bc(26,"Customer Phone"),i.Tb(),i.Ub(27,"input",14),i.cc("ngModelChange",(function(t){return e.orderData.customerPhone=t})),i.Tb(),i.Tb(),i.Ub(28,"div",8),i.Ub(29,"label",9),i.Bc(30,"Country"),i.Tb(),i.Ub(31,"select",15),i.cc("ngModelChange",(function(t){return e.orderData.agent.countryId=t}))("change",(function(t){return e.birthCountryChange(t)})),i.zc(32,m,2,2,"option",12),i.hc(33,"async"),i.Tb(),i.Tb(),i.Ub(34,"div",8),i.Ub(35,"label",9),i.Bc(36,"City"),i.Tb(),i.Ub(37,"select",16),i.cc("ngModelChange",(function(t){return e.orderData.agent.cityId=t})),i.zc(38,T,2,2,"option",12),i.hc(39,"async"),i.Tb(),i.Tb(),i.Ub(40,"div",8),i.Ub(41,"label",9),i.Bc(42,"Payment Type"),i.Tb(),i.Ub(43,"select",17),i.cc("ngModelChange",(function(t){return e.orderData.paymentTypeId=t})),i.zc(44,h,2,2,"option",12),i.hc(45,"async"),i.Tb(),i.Tb(),i.Ub(46,"div",8),i.Ub(47,"label",9),i.Bc(48,"Description"),i.Tb(),i.Ub(49,"input",18),i.cc("ngModelChange",(function(t){return e.orderData.description=t})),i.Tb(),i.Tb(),i.Ub(50,"div",8),i.Ub(51,"label",9),i.Bc(52,"Pick up Location Latitude"),i.Tb(),i.Ub(53,"input",19),i.cc("ngModelChange",(function(t){return e.orderData.pickupLocationLat=t})),i.Tb(),i.Tb(),i.Ub(54,"div",8),i.Ub(55,"label",9),i.Bc(56,"Pick up Location Longitude"),i.Tb(),i.Ub(57,"input",20),i.cc("ngModelChange",(function(t){return e.orderData.pickupLocationLong=t})),i.Tb(),i.Tb(),i.Ub(58,"div",8),i.Ub(59,"label",9),i.Bc(60,"Drop Location Latitude"),i.Tb(),i.Ub(61,"input",21),i.cc("ngModelChange",(function(t){return e.orderData.dropLocationLat=t})),i.Tb(),i.Tb(),i.Ub(62,"div",8),i.Ub(63,"label",9),i.Bc(64,"Drop Location Longitude"),i.Tb(),i.Ub(65,"input",22),i.cc("ngModelChange",(function(t){return e.orderData.dropLocationLong=t})),i.Tb(),i.Tb(),i.Ub(66,"div",8),i.Ub(67,"label",9),i.Bc(68,"address"),i.Tb(),i.Ub(69,"input",23),i.cc("ngModelChange",(function(t){return e.orderData.customerAddress=t})),i.Tb(),i.Tb(),i.Ub(70,"div",8),i.Ub(71,"button",24),i.cc("click",(function(){i.tc(t);const o=i.qc(77);return e.showTemplate(o)})),i.Bc(72," Order Items "),i.Tb(),i.Tb(),i.Ub(73,"div",8),i.Ub(74,"button",24),i.cc("click",(function(){i.tc(t);const o=i.qc(79);return e.showTemplate(o)})),i.Bc(75," Order Status "),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.zc(76,U,23,1,"ng-template",null,25,i.Ac),i.zc(78,D,21,2,"ng-template",null,26,i.Ac),i.Ub(80,"div",27),i.Ub(81,"div",3),i.zc(82,M,2,0,"div",28),i.zc(83,B,2,1,"div",28),i.Ub(84,"div",7),i.Ub(85,"h2",29),i.Bc(86),i.Tb(),i.Ub(87,"div",30),i.Ub(88,"div",31),i.Pb(89,"i",32),i.Bc(90),i.Tb(),i.Ub(91,"div",31),i.Pb(92,"i",33),i.Bc(93),i.Tb(),i.Ub(94,"div",31),i.Pb(95,"i",34),i.Bc(96),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb()}2&t&&(i.Cb(6),i.Dc("Order number [ ",e.orderData.id," ]"),i.Cb(7),i.lc("ngModel",e.orderData.agent.fullname),i.Cb(4),i.lc("ngModel",e.orderData.productTypeId),i.Cb(1),i.lc("ngForOf",i.ic(19,24,e.productTypes$)),i.Cb(5),i.lc("ngModel",e.orderData.customerName),i.Cb(4),i.lc("ngModel",e.orderData.customerPhone),i.Cb(4),i.lc("ngModel",e.orderData.agent.countryId),i.Cb(1),i.lc("ngForOf",i.ic(33,26,e.countries$)),i.Cb(5),i.lc("ngModel",e.orderData.agent.cityId),i.Cb(1),i.lc("ngForOf",i.ic(39,28,e.cities$)),i.Cb(5),i.lc("ngModel",e.orderData.paymentTypeId),i.Cb(1),i.lc("ngForOf",i.ic(45,30,e.paymentTypes$)),i.Cb(5),i.lc("ngModel",e.orderData.description),i.Cb(4),i.lc("ngModel",e.orderData.pickupLocationLat),i.Cb(4),i.lc("ngModel",e.orderData.pickupLocationLong),i.Cb(4),i.lc("ngModel",e.orderData.dropLocationLat),i.Cb(4),i.lc("ngModel",e.orderData.dropLocationLong),i.Cb(4),i.lc("ngModel",e.orderData.customerAddress),i.Cb(13),i.lc("ngIf",null==e.orderData.agent.image||""===e.orderData.agent.image),i.Cb(1),i.lc("ngIf",null!=e.orderData.agent.image&&""!==e.orderData.agent.image),i.Cb(3),i.Cc(e.orderData.agent.fullname),i.Cb(4),i.Dc(" ",e.orderData.agent.email," "),i.Cb(3),i.Dc(" ",e.orderData.agent.address?e.orderData.agent.address:"none"," "),i.Cb(3),i.Dc(" ",e.orderData.agent.mobile?e.orderData.agent.mobile:"none"," "))},directives:[g.n,g.f,g.g,g.a,g.e,g.h,g.l,n.j,n.k,g.i,g.m],pipes:[n.b],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[a.d.forChild(L)],a.d]}),t})();o.d(e,"OrderModule",(function(){return I}));let I=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,P,c.a]]}),t})()}}]);